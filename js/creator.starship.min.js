function sw_starship(){function a(){if(this.calculate_ship(),html_return="",html_return+="<h4>"+this.item_name+"</h4>",html_return+="<p>",html_return+=this.ship_description+"</p><br />",this.selected_size.ship_label){html_return+="<strong>"+this.selected_size.ship_label+" Starship</strong>: ",html_return+="Size "+this.size+", ",html_return+="Acc/TS "+this.acc+"/"+this.ts+", ",html_return+="Climb "+this.climb+", ",html_return+="Toughness "+this.toughness+" ("+this.armor+"), ",html_return+="Crew "+this.crew+", ",html_return+="Cost $"+simplify_cost(this.cost)+"<br />",this.energy_capacity>0&&(html_return+="<strong>Energy Capacity</strong>: "+this.energy_capacity+"<br />"),html_return+="<strong>Mods Available</strong>: "+this.mods_available+"<br />",html_return+="<strong>Notes</strong>: ",this.sort_selected_modifications_list();for(var a in this.selected_modifications_list)html_return+=a,this.selected_modifications_list[a]>1&&(html_return+=" x"+this.selected_modifications_list[a]),html_return+=", ";html_return+="<br />",html_return+="<strong>Weapons</strong>: ",this.sort_selected_weapons_list();for(var b in this.selected_weapons_list)html_return+=b,this.selected_weapons_list[b]>1&&(html_return+=" x"+this.selected_weapons_list[b]),html_return+=", ";html_return+="<br />",this.get_modification_count("Shields")>0&&(html_return+="<strong>Shields</strong>: ",html_return+=10*this.size,html_return+=" - may recover  "+this.size+"/round<br />")}else html_return+="A ship size must be selected.";return html_return}function b(){if(this.calculate_ship(),html_return="",html_return+="[b][size=18]"+this.item_name+"[/size][/b]\n",html_return+=this.ship_description?""+this.ship_description+"\n\n":"\n",this.selected_size.ship_label){html_return+="[b]"+this.selected_size.ship_label+" Starship[/b]: ",html_return+="Size "+this.size+", ",html_return+="Acc/TS "+this.acc+"/"+this.ts+", ",html_return+="Climb "+this.climb+", ",html_return+="Toughness "+this.toughness+" ("+this.armor+"), ",html_return+="Crew "+this.crew+", ",html_return+="Cost $"+simplify_cost(this.cost)+"\n",this.energy_capacity>0&&(html_return+="[b]Energy Capacity[/b]: "+this.energy_capacity+"\n"),html_return+="[b]Mods Available[/b]: "+this.mods_available+"\n",html_return+="[b]Notes[/b]: ",this.sort_selected_modifications_list();for(var a in this.selected_modifications_list)html_return+=a,this.selected_modifications_list[a]>1&&(html_return+=" x"+this.selected_modifications_list[a]),html_return+=", ";html_return+="\n",html_return+="[b]Weapons[/b]: ",this.sort_selected_weapons_list();for(var b in this.selected_weapons_list)html_return+=b,this.selected_weapons_list[b]>1&&(html_return+=" x"+this.selected_weapons_list[b]),html_return+=", ";html_return+="\n",this.get_modification_count("Shields")>0&&(html_return+="[b]Shields[/b]: ",html_return+=10*this.size,html_return+=" - may recover  "+this.size+"/round\n")}else html_return+="A ship size must be selected.";for(removeHideCounter=1;31>removeHideCounter;removeHideCounter++)html_return=html_return.replace("<span class='hide'>"+removeHideCounter+"</span>","");return html_return}function c(){for(exportObject={},exportObject.size=this.size,exportObject.object_type="starship",exportObject.item_name=this.item_name,exportObject.ship_description=this.ship_description,exportObject.mods=Array(),modCounter=0;modCounter<this.selected_modifications.length;modCounter++)exportObject.mods=exportObject.mods.concat(this.selected_modifications[modCounter].name);for(exportObject.weapons=Array(),weaponCounter=0;weaponCounter<this.selected_weapons.length;weaponCounter++)weapon_item={name:this.selected_weapons[weaponCounter].name,fixed:this.selected_weapons[weaponCounter].fixed,linked:this.selected_weapons[weaponCounter].linked},exportObject.weapons=exportObject.weapons.concat(weapon_item);return JSON.stringify(exportObject)}function d(){this.item_name="(nameless)",this.ship_description="",this.ship_ship_label="",this.examples="",this.size=0,this.acc=0,this.ts=0,this.climb=0,this.toughness=0,this.armor=0,this.mods=0,this.base_mods=0,this.crew=0,this.cost=0,this.energy_capacity=0,this.base_energy_capacity=0,this.provisions=0,this.selected_size=0,this.selected_modifications=Array(),this.selected_modifications_list={},this.mods_available=0,this.selected_weapons=Array(),this.selected_weapons_list=Array()}function e(a){try{importedShipObj=JSON.parse(a)}catch(b){}if("object"==typeof importedShipObj){for(this.reset_data(),this.set_size(importedShipObj.size),this.set_item_name(importedShipObj.item_name),this.set_ship_description(importedShipObj.ship_description),modCounter=0;modCounter<importedShipObj.mods.length;modCounter++)this.add_mod(importedShipObj.mods[modCounter]);for(weaponCounter=0;weaponCounter<importedShipObj.weapons.length;weaponCounter++)this.add_weapon(importedShipObj.weapons[weaponCounter].name),importedShipObj.weapons[weaponCounter].fixed&&this.fix_weapon(this.selected_weapons.length-1,importedShipObj.weapons[weaponCounter].fixed),importedShipObj.weapons[weaponCounter].linked&&this.link_weapon(this.selected_weapons.length-1,importedShipObj.weapons[weaponCounter].linked);refresh_starship_page()}}function f(){var a=Object.keys(this.selected_modifications_list);a.sort();for(var b={},c=0;c<a.length;c++)keyName=a[c],b[keyName]=this.selected_modifications_list[keyName];this.selected_modifications_list=b}function g(){var a=Object.keys(this.selected_weapons_list);a.sort();for(var b={},c=0;c<a.length;c++)keyName=a[c],b[keyName]=this.selected_weapons_list[keyName];this.selected_weapons_list=b}function h(){if(this.selected_size.ship_label){for(this.ship_label=this.selected_size.ship_label,this.examples=this.selected_size.examples,this.size=this.selected_size.size,this.acc=this.selected_size.acc,this.ts=this.selected_size.ts,this.climb=this.selected_size.climb,this.toughness=this.selected_size.toughness,this.armor=this.selected_size.armor,this.mods=this.selected_size.mods,this.base_mods=this.selected_size.mods,this.crew=this.selected_size.crew,this.cost=this.selected_size.cost,this.energy_capacity=this.selected_size.energy_capacity,this.base_energy_capacity=this.selected_size.energy_capacity,this.provisions=this.selected_size.provisions,this.selected_modifications.sort(sort_mods),this.selected_modifications_list={},calcModCount=0;calcModCount<this.selected_modifications.length;calcModCount++){if(is_available=!0,this.selected_modifications[calcModCount].is_available&&(is_available=this.selected_modifications[calcModCount].is_available(this)),!is_available)return createAlert(this.selected_modifications[calcModCount].name+" is no longer availble for this configuration. Removing.","warning"),this.remove_mod(this.selected_modifications[calcModCount].name),void this.calculate_ship();this.mods=this.mods-this.selected_modifications[calcModCount].get_mod_cost(this),this.cost+=this.selected_modifications[calcModCount].get_cost(this),this.selected_modifications[calcModCount].get_mod_effect&&this.selected_modifications[calcModCount].get_mod_effect(this),"Linked"!=this.selected_modifications[calcModCount].name&&("undefined"==typeof this.selected_modifications_list[this.selected_modifications[calcModCount].name]?this.selected_modifications_list[this.selected_modifications[calcModCount].name]=1:this.selected_modifications_list[this.selected_modifications[calcModCount].name]++)}for(this.selected_weapons.sort(sort_mods),this.selected_weapons_list={},fixedWeaponModUsage=0,linkedWeaponModUsage=Array(),otherWeaponModUsage=0,calcModCount=0;calcModCount<this.selected_weapons.length;calcModCount++){if(is_available=!0,this.selected_weapons[calcModCount].is_available&&(is_available=this.selected_weapons[calcModCount].is_available(this)),!is_available)return createAlert(this.selected_weapons[calcModCount].name+" is no longer availble for this configuration. Removing.","warning"),this.remove_weapon(calcModCount),void this.calculate_ship();weaponCost=this.selected_weapons[calcModCount].mods,this.selected_weapons[calcModCount].fixed&&(weaponCost/=2),this.selected_weapons[calcModCount].linked&&(weaponCost/=2),this.mods=this.mods-weaponCost,this.cost+=this.selected_weapons[calcModCount].cost,weaponListName=this.selected_weapons[calcModCount].name,this.selected_weapons[calcModCount].fixed?(fixedLabel="fixed",1!=this.selected_weapons[calcModCount].fixed&&(fixedLabel="fixed - "+this.selected_weapons[calcModCount].fixed),weaponListName=this.selected_weapons[calcModCount].linked?weaponListName+" (linked<span class='hide'>"+this.selected_weapons[calcModCount].linked+"</span>, "+fixedLabel+")":weaponListName+" ("+fixedLabel+")"):this.selected_weapons[calcModCount].linked&&(weaponListName=weaponListName+" (linked<span class='hide'>"+this.selected_weapons[calcModCount].linked+"</span>)"),"undefined"==typeof this.selected_weapons_list[weaponListName]?this.selected_weapons_list[weaponListName]=this.selected_weapons[calcModCount].missiles_per?this.selected_weapons[calcModCount].missiles_per:1:this.selected_weapons[calcModCount].missiles_per?this.selected_weapons_list[weaponListName]+=this.selected_weapons[calcModCount].missiles_per:this.selected_weapons_list[weaponListName]++}this.mods_available=this.mods}}function i(a){this.item_name=a}function j(a){this.ship_description=a}function k(a){for(return_value=0,addModCount=0;addModCount<starship_modifications.length;addModCount++)if(a.toLowerCase()==starship_modifications[addModCount].name.toLowerCase())return newMod=jQuery.extend({},starship_modifications[addModCount]),void(this.selected_modifications=this.selected_modifications.concat(newMod));return return_value}function l(a){for(return_value=0,addWeaponCount=0;addWeaponCount<vehicle_weapons.length;addWeaponCount++)if(a.toLowerCase()==vehicle_weapons[addWeaponCount].name.toLowerCase())return newWeapon=jQuery.extend({},vehicle_weapons[addWeaponCount]),newWeapon.linked=0,newWeapon.fixed=0,void(this.selected_weapons=this.selected_weapons.concat(newWeapon));return return_value}function m(a){for(removeModCount=0;removeModCount<this.selected_modifications.length;removeModCount++)if(a.toLowerCase()==this.selected_modifications[removeModCount].name.toLowerCase())return void this.selected_modifications.splice(removeModCount,1)}function n(a){a/=1,this.selected_weapons.splice(a,1)}function o(a,b){a/=1,this.selected_weapons[a].linked=b/1}function p(a,b){a/=1,this.selected_weapons[a].fixed=b}function q(){if(numberOfLinks=this.get_modification_count("Linked"),returnVal=Array(),numberOfLinks>0){for(linked_weapon_count=0;linked_weapon_count<this.selected_weapons.length;linked_weapon_count++)this.selected_weapons[linked_weapon_count].linked&&(this.selected_weapons[linked_weapon_count].linked>numberOfLinks?this.selected_weapons[linked_weapon_count].linked=0:returnVal[this.selected_weapons[linked_weapon_count].linked]=this.selected_weapons[linked_weapon_count].name);for(;returnVal.length<numberOfLinks+1;)for(linked_weapon_count=returnVal.length;numberOfLinks+1>linked_weapon_count;linked_weapon_count++)returnVal[linked_weapon_count]=""}else{for(linked_weapon_count=0;linked_weapon_count<this.selected_weapons.length;linked_weapon_count++)this.selected_weapons[linked_weapon_count].linked=0;returnVal=Array()}return returnVal}function r(a){for(return_value=0,modCount=0;modCount<this.selected_modifications.length;modCount++)a.toLowerCase()==this.selected_modifications[modCount].name.toLowerCase()&&return_value++;return return_value}function s(a){for(sizeCount=0;sizeCount<starship_sizes.length;sizeCount++)a==starship_sizes[sizeCount].size&&(this.selected_size=starship_sizes[sizeCount])}this.item_name="(nameless)",this.ship_description="",this.ship_ship_label="",this.examples="",this.size=0,this.object_type="starship",this.acc=0,this.ts=0,this.climb=0,this.toughness=0,this.armor=0,this.mods=0,this.base_mods=0,this.crew=0,this.cost=0,this.energy_capacity=0,this.base_energy_capacity=0,this.provisions=0,this.selected_size=0,this.selected_modifications=Array(),this.selected_modifications_list={},this.mods_available=0,this.selected_weapons=Array(),this.selected_weapons_list=Array(),this.create_stats_block=a,this.export_bbcode=b,this.export_json=c,this.reset_data=d,this.import_json=e,this.sort_selected_modifications_list=f,this.sort_selected_weapons_list=g,this.calculate_ship=h,this.set_item_name=i,this.set_ship_description=j,this.add_mod=k,this.add_weapon=l,this.remove_mod=m,this.remove_weapon=n,this.link_weapon=o,this.fix_weapon=p,this.get_linked_weapons=q,this.get_modification_count=r,this.set_size=s}function propogate_size_select(){for(selectOptions="<option value=''>- Select Ship Size -</option>",sizeCount=0;sizeCount<starship_sizes.length;sizeCount++)isSelected="",current_starship.selected_size.size&&current_starship.selected_size.size==starship_sizes[sizeCount].size&&(isSelected=" selected='selected'"),selectOptions+="<option value='"+starship_sizes[sizeCount].size+"'"+isSelected+">"+starship_sizes[sizeCount].ship_label+" - Size "+starship_sizes[sizeCount].size,starship_sizes[sizeCount].examples&&(selectOptions+=" - "+starship_sizes[sizeCount].examples),selectOptions+="</option>";$(".js-select-size").html(selectOptions)}function propogate_add_mods(){for(modifications_html="<table>",modifications_html+="<thead><tr>",modifications_html+="<th>&nbsp;</th>",modifications_html+="<th>Name</th>",modifications_html+="<th>Used/Max</th>",modifications_html+="<th>Mod Cost</th>",modifications_html+="<th>Cost</th>",modifications_html+="</tr></thead><tbody>",mod_count=0;mod_count<starship_modifications.length;mod_count++)starship_mod_count=current_starship.get_modification_count(starship_modifications[mod_count].name),mod_cost=starship_modifications[mod_count].get_mod_cost(current_starship),is_available=!0,starship_modifications[mod_count].is_available&&(is_available=starship_modifications[mod_count].is_available(current_starship)),(current_starship.mods_available>=mod_cost||starship_mod_count>0)&&is_available&&(modifications_html+="<tr title='"+starship_modifications[mod_count].description+"'>",modifications_html+="<td style='white-space: nowrap;'>",modifications_html+=starship_mod_count>0?"<span ref='"+starship_modifications[mod_count].name+"' class='js-remove-mod glyphicon glyphicon-minus color-red'></span>":"<span class='glyphicon glyphicon-blank'></span>",current_starship.mods_available>=mod_cost&&("u"==starship_modifications[mod_count].get_max(current_starship)||starship_modifications[mod_count].get_max(current_starship)>starship_mod_count)&&(modifications_html+=" <span ref='"+starship_modifications[mod_count].name+"' class='js-add-mod glyphicon glyphicon-plus color-green'></span>"),modifications_html+="</td>",modifications_html+=starship_mod_count>0?"<td style='color: green'>"+starship_modifications[mod_count].name+"</td>":"<td>"+starship_modifications[mod_count].name+"</td>",modifications_html+="<td>"+starship_mod_count+"/"+starship_modifications[mod_count].get_max(current_starship)+"</td>",modifications_html+="<td>"+mod_cost+"</td>",modifications_html+="<td>"+simplify_cost(starship_modifications[mod_count].get_cost(current_starship))+"</td>",modifications_html+="</tr>");modifications_html+="</tbody></table>",$(".js-select-modifications").html(modifications_html)}function propogate_weapon_mods(){if(available_links=current_starship.get_linked_weapons(),weapon_mods_html="<fieldset><legend>Installed Weapons</legend>",available_links.length>0&&(weapon_mods_html+="Available Links: "+(available_links.length-1)+"<br />"),current_starship.selected_weapons.length>0){for(weapon_mods_html+="<table><thead><tr>",weapon_mods_html+="<th>Name</th>",weapon_mods_html+="<th colspan='3'>&nbsp;</th>",weapon_mods_html+="</tr></thead><tbody>",weapon_count=0;weapon_count<current_starship.selected_weapons.length;weapon_count++){if(weapon_mods_html+="<tr>",weapon_mods_html+="<td>",weapon_mods_html+=current_starship.selected_weapons[weapon_count].name,weapon_mods_html+="</td>",weapon_mods_html+="<td>",fixedcheck="",weapon_mods_html+="<label style='display: inline;font-weight: normal;'><select ref='"+weapon_count+'\' class="js-fix-weapon">',weapon_mods_html+=0==current_starship.selected_weapons[weapon_count].fixed?"<option selected='selected' value=\"0\">- Not Fixed -</option>":'<option value="0">- Not Fixed -</option>',weapon_mods_html+="bow"==current_starship.selected_weapons[weapon_count].fixed||1==current_starship.selected_weapons[weapon_count].fixed?"<option selected='selected' value=\"bow\">Fixed to Bow</option>":'<option value="bow">Fixed to Bow</option>',weapon_mods_html+="stern"==current_starship.selected_weapons[weapon_count].fixed?"<option selected='selected' value=\"stern\">Fixed to Stern</option>":'<option value="stern">Fixed to Stern</option>',weapon_mods_html+="port"==current_starship.selected_weapons[weapon_count].fixed?"<option selected='selected' value=\"port\">Fixed to Port</option>":'<option value="port">Fixed to Port</option>',weapon_mods_html+="starboard"==current_starship.selected_weapons[weapon_count].fixed?"<option selected='selected' value=\"starboard\">Fixed to Starboard</option>":'<option value="starboard">Fixed to Starboard</option>',weapon_mods_html+="</select></label>",available_links.length>0){for(weapon_mods_html+="<select class='js-link-weapon' ref='"+weapon_count+"'>",weapon_mods_html+="<option value='0'>Unlinked</option>",link_count=1;link_count<available_links.length;link_count++)linkedcheck="",current_starship.selected_weapons[weapon_count].linked==link_count&&(linkedcheck="selected='selected'"),("undefined"==typeof available_links[link_count]||"undefined"==available_links[link_count]||""==available_links[link_count]||available_links[link_count]==current_starship.selected_weapons[weapon_count].name)&&(weapon_mods_html+="<option value='"+link_count+"' "+linkedcheck+">Link #"+link_count+"</option>");weapon_mods_html+="</select>"}else weapon_mods_html+="&nbsp;";weapon_mods_html+="</td>",weapon_mods_html+="<td>",weapon_mods_html+="<button type='button' class='js-remove-weapon btn btn-danger  btn-xs' ref='"+weapon_count+"'>Remove</button>",weapon_mods_html+="</td>",weapon_mods_html+="</td>",weapon_mods_html+="</tr>"}weapon_mods_html+="</tbody></table>"}else weapon_mods_html+="No installed weapons<br />";for(weapon_mods_html+="</fieldset><fieldset><legend>Available Weapons</legend>",currentWeaponClass="",weaponCount=0,mod_count=0;mod_count<vehicle_weapons.length;mod_count++)currentWeaponClass!=vehicle_weapons[mod_count].classification&&(weaponCount>0&&currentWeaponClass!=vehicle_weapons[mod_count].classification&&(weapon_mods_html+="</tbody></table>"),weaponCount=0,weapon_mods_html+="<h5>"+vehicle_weapons[mod_count].classification+"</h5><table><thead><tr>",weapon_mods_html+="<th>Name</th>",weapon_mods_html+="<th>Mod Cost</th>",weapon_mods_html+="<th>Cost</th>",weapon_mods_html+="</tr></thead><tbody>"),is_available=!0,vehicle_weapons[mod_count].is_available&&(is_available=vehicle_weapons[mod_count].is_available(current_starship)),mod_cost=vehicle_weapons[mod_count].mods,current_starship.mods_available>=mod_cost&&is_available&&(weapon_mods_html+="<tr title='"+vehicle_weapons[mod_count].description+"'>",weapon_mods_html+=starship_mod_count>0?"<td style='color: green'>":"<td>",current_starship.mods_available>=mod_cost&&(weapon_mods_html+="<button style='height: 25px; display: inline-block;' ref='"+vehicle_weapons[mod_count].name+"' class='js-add-weapon  btn btn-success btn-xs' type='button'>Install</button> "),weapon_mods_html+=vehicle_weapons[mod_count].name+"</td>",weapon_mods_html+="<td>"+mod_cost+"</td>",weapon_mods_html+="<td>"+simplify_cost(vehicle_weapons[mod_count].cost)+"</td>",weapon_mods_html+="</tr>"),weapon_mods_html+="</fieldset>",currentWeaponClass=vehicle_weapons[mod_count].classification,weaponCount++;$(".js-select-weapons").html(weapon_mods_html)}function refresh_starship_page(){$(".js-info-stats").html(current_starship.create_stats_block()),$(".js-bb-code").val(current_starship.export_bbcode()),$(".js-json-code").val(current_starship.export_json()),$(".js-set-ship-name").unbind("keyup"),$(".js-set-ship-name").keyup(function(){current_starship.set_item_name($(".js-set-ship-name").val()),refresh_starship_page()}),$(".js-set-ship-description").unbind("keyup"),$(".js-set-ship-description").keyup(function(){current_starship.set_ship_description($(".js-set-ship-description").val()),refresh_starship_page()}),propogate_size_select(),$(".js-select-size").unbind("change"),$(".js-select-size").change(function(){current_starship.set_size($(".js-select-size option:selected").val()),refresh_starship_page()}),current_starship.selected_size.ship_label?(propogate_add_mods(),$(".js-add-mod").unbind("click"),$(".js-add-mod").click(function(){current_starship.add_mod($(this).attr("ref")),refresh_starship_page()}),$(".js-remove-mod").unbind("click"),$(".js-remove-mod").click(function(){current_starship.remove_mod($(this).attr("ref")),refresh_starship_page()}),propogate_weapon_mods(),$(".js-add-weapon").unbind("click"),$(".js-add-weapon").click(function(){current_starship.add_weapon($(this).attr("ref")),refresh_starship_page()}),$(".js-remove-weapon").unbind("click"),$(".js-remove-weapon").click(function(){current_starship.remove_weapon($(this).attr("ref")),refresh_starship_page()}),$(".js-link-weapon").unbind("change"),$(".js-link-weapon").change(function(){weaponIndex=$(this).attr("ref"),linkIndex=$(this).val(),current_starship.link_weapon(weaponIndex,linkIndex),refresh_starship_page()}),$(".js-fix-weapon").unbind("change"),$(".js-fix-weapon").change(function(){weaponIndex=$(this).attr("ref"),current_starship.fix_weapon(weaponIndex,$(this).val()),refresh_starship_page()}),$(".js-select-modifications-container").fadeIn()):$(".js-select-modifications-container").fadeOut()}function propogateLoadList(){for(currentVehicles=localstorage_parse_data(),html="<ul class='list-unstyled'>",lsCounter=0;lsCounter<currentVehicles.length;lsCounter++)"starship"==currentVehicles[lsCounter].type&&(html+="<li style='display:block;overflow:hidden; padding: 2px; margin: 2px; border-bottom: 1px solid #dedede;'>",html+="<label style='display: inline; font-weight: normal'>",html+="<input type='radio' name='selected_load' value='"+lsCounter+"' /> ",html+=currentVehicles[lsCounter].name+" (Size "+currentVehicles[lsCounter].size+")",html+="</label>",html+="<button ref='"+lsCounter+"' class='js-delete-data btn btn-danger pull-right btn-xs' type='button'>Delete</button>",html+="</li>");html+="</ul>",$(".js-load-list").html(html),$(".js-delete-data").click(function(){confirm("Are you sure you want to delete this item?")&&(selectedItemIndex=$(this).attr("ref"),delete_item_from_localstorage(selectedItemIndex),propogateLoadList())})}function loadSelectedItem(){selectedItemIndex=$("input[name=selected_load]:checked").val(),""!=selectedItemIndex&&(selectedItem=get_data_from_localstorage(selectedItemIndex),current_starship.import_json(selectedItem),$(".js-set-ship-name").val(current_starship.item_name),$(".js-set-ship-description").val(current_starship.ship_description),createAlert("Your ship has been loaded.","success"))}var starship_modifications=Array({name:"AMCM",description:"Dropping bombs uses Knowledge (Bombardier) rather than Shooting. Craft must be in atmosphere to drop bombs. Night, cloud cover, rain, very high altitude attacks (GM’s call) or other factors that might interfere with the bomb’s targeting systems inflicts a –2 penalty.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(a){return 5e3*a.size}},{name:"Armor",description:"Increases a ship’s Armor value by +2. Due to the nature of space and the size and shape of starships, all Armor is considered Heavy Armor.",get_max:function(a){return a.size},get_mod_cost:function(){return 1},get_cost:function(a){return 1e4*a.size},get_mod_effect:function(a){a.armor++,a.armor++,a.toughness++,a.toughness++}},{name:"Artificial Intelligence",description:"The ship’s AI can operate all systems — from locomotion to weapons to opening or closing hatches. It has a skill level of d10 in these tasks, but is an “Extra” and does not receive a Wild Die. The AI does not suffer from multi-action penalties if given simultaneous tasks. In combat, the AI acts on the captain’s Action Card. Giving the AI a short verbal command is a free action.",get_max:function(){return 1},get_mod_cost:function(){return 0},get_cost:function(a){return 1e4*a.size}},{name:"Atmospheric",description:"Allows the ship to enter planetary atmospheres. This includes heat shielding and additional work to handle the stress and strain of entry. All starships have vertical take-off and landing (VTOL) capability.",get_max:function(){return 1},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 5e4*a.size}},{name:"Bomb Bay",description:"Each bomb bay may drop up to four Small, 2 Medium, or 1 Large (or larger) bomb per round at no penalty. All use the same attack roll. Dropping bombs uses the Knowledge (Bombardier) skill.",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 5e4}},{name:"Crew Space",description:"Space for four permanent crew members.",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 1e5}},{name:"Deflector Screens",description:"The vessel is protected by an energy field that deflects incoming ballistic attacks (it has no effect against lasers). Attackers must subtract –2 from their Shooting rolls. Mod cost is 2 for Small to Large ships, and 3 for Huge to Gargantuan vessels.",get_max:function(){return"u"},get_mod_cost:function(a){return a.size>=25?5:a.size>=13?3:a.size>=6?2:void 0},get_cost:function(a){return 1e4*a.size}},{name:"Electromagnetic Shielding",description:"Adds +6 to the ship’s effective Toughness from EMP missiles (see page 25).",get_max:function(){return"u"},get_mod_cost:function(){return 2},get_cost:function(a){return 5e3*a.size}},{name:"FTL Drive",description:"This includes both the drive and the navigation system required to use it.",get_max:function(){return 1},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 2e6*a.size}},{name:"Fuel Pods",description:"Each fuel pod increases the vessel’s energy capacity by 50%",get_max:function(){return"u"},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 1e5*a.size},get_mod_effect:function(a){a.energy_capacity+=a.base_energy_capacity/2}},{name:"Garage / Hangar",description:"A small hangar (or garage or external lift-hooks) can carry up 8 Size points of ship, vehicle, or walker.",get_max:function(){return"u"},get_mod_cost:function(){return 4},get_cost:function(){return 1e6}},{name:"Linked",description:"Up to four direct-fire weapons of the same type may be linked and fired as one, increasing the damage by +2 per weapon and reducing the total number of Mods required. Total all Linked weapons in a set first, then halve their required Mods. (If Linking Fixed weapons, halve the total.)",get_max:function(){return"u"},get_mod_cost:function(){return 0},get_cost:function(){return 0}},{name:"Mercantile",description:"Found only on Huge and Gargantuan ships, this might be a restaurant, commissary, or speciality store. Each generates Size+$1d4K a month for the ship (and the same for the mercantile’s owner). The store has 300 square feet of space. Each additional Mod adds roughly 100 square feet and +$1d4K to revenue.",get_max:function(){return"u"},get_mod_cost:function(){return 2},get_cost:function(){return 1e5},is_available:function(a){return a.size>=16?!0:!1}},{name:"Missile Launcher",description:"Allows up to four Light or two Heavy (or AT) missiles to be fired at once.",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 5e4}},{name:"Passenger Pod",description:"Small and Medium ships only. These are rows of fairly spacious seats with safety harnesses, personal vid-screens, and other amenities designed for short travels (typically less than 24 hours). Each pod seats 10.",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 5e4}},{name:"Sensor Suite (Galactic)",description:"Light, chemical, motion, and other active sensors allow detection of targets up to one light year away with a Knowledge (Electronics) roll. Within 10K miles, the sensors add +2 to the roll. Illumination penalties are ignored. Targets don’t have to be in direct line of sight, but asteroid or powerful energy fields may cause inaccurate or false readings at the GM’s discretion.",get_max:function(){return 1},get_mod_cost:function(){return 2},get_cost:function(){return 1e6}},{name:"Sensor Suite (Planetary)",description:"This functions exactly like the Medium Sensor Suite (page 16) but has a range of 10K miles.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 5e4}},{name:"Shields",description:"The craft is protected by an ablative energy field that absorbs 10×Size points of damage before it’s depleted. Apply all damage to the shield first, then any left over to the ship (AP counts as usual). Active shields detonate missiles and torpedoes before they hit, reducing their damage total by half. A craft may regenerate its Size in shield points if it makes no attacks in a round.",get_max:function(){return 1},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 25e3*a.size}},{name:"Sloped Armor",description:"Non-energy, ballistic attacks against this vessel suffer a –2 penalty. It has no effect on energy attacks.",get_max:function(){return 1},get_mod_cost:function(){return 2},get_cost:function(a){return 5e3*a.size}},{name:"Speed",description:"Each purchase increases the ship’s Acc by 5 and Top Speed by 50. (This cannot be taken with Speed Reduction.)",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(a){return 1e5*a.size},get_mod_effect:function(a){a.ts+=50,a.acc+=5}},{name:"Speed Reduction",description:"The ship trades power and speed for additional room. Each time this is taken, reduce Acc by 5 and Top Speed by 50 to gain half the ship’s Size in Mod slots.",get_max:function(){return 3},get_mod_cost:function(){return 0},get_cost:function(){return 0},get_mod_effect:function(a){a.ts-=50,a.acc-=5,a.mods+=a.base_mods/2}},{name:"Stealth System",description:"Radar-absorbing paint, heat baffles, scramblers, and other devices make the ship difficult to detect by vision or sensors. Those trying to spot, attack, (or lock on to) the ship subtract 4 from their rolls. The effect is triggered as a free action, but is negated any round in which the ship fires a weapon or emits some other non- cloakable signal such as radio signal or active sensor search.",get_max:function(){return 1},get_mod_cost:function(a){return a.size},get_cost:function(a){return 5e4*a.size}},{name:"Superstructure",description:"Superstructures are large sections that add great amounts of space to large ships, typically to accommodate more passengers or cargo. Each superstructure adds one to the fuel used per day, consumes 10 regular Mods, and subtracts 1 from the ship’s base Toughness (not Armor) as it reduces overall structural integrity. Choose the type of superstructure from the sidebar below.",get_max:function(){return"u"},get_mod_cost:function(){return 10},get_cost:function(){return 5e6},is_available:function(a){return a.size>=12?!0:!1}},{name:"Targeting System",description:"The ship’s internal sensors and computers are linked to all attached weapons. This compensates for movement, range, multi-actions, and the like, negating up to two points of Shooting penalties.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(a){return 1e4*a.size}},{name:"Teleporter",description:"Ultra Tech. Teleporters work by turning physical objects into energy, blasting them through space, and then reconstituting them at the destination. Each teleporter can transport six average size humans at a time, or 1000 pounds of cargo up to 100 miles distant, or up to 1000 miles distant if a linked transmitter is present at the destination.",get_max:function(){return"u"
},get_mod_cost:function(){return 2},get_cost:function(){return 5e6}},{name:"Torpedo Tube",description:"Each tube allows up to two Light or one Heavy torpedo to be fired at once (at one or two targets, as desired).",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 5e5}},{name:"Tractor Beam",description:"Tractor beams are specialized starship weapons designed to hold an enemy ship in place and pull it to the “attacker.” Ships can only affect vessels of smaller Size. Their range is quite short (about 1000 yards), so they must get a Short Range result on the Chase table to use the weapon. This is an opposed Knowledge (Electronics) roll at –4 vs the defender’s Piloting (or Knowledge (Electronics) in Large or larger ships). If the attacker is successful, the enemy ship is caught and pulled into contact in 2d6 rounds. A captive’s ship’s life support systems remain active, but all locomotion and weapons are shut down.",get_max:function(){return"u"},get_mod_cost:function(){return 5},get_cost:function(){return 1e6}}),starship_sizes=Array({ship_label:"Small",examples:"Fighters, shuttles",size:6,acc:50,ts:700,climb:3,toughness:20,armor:5,mods:20,crew:1,cost:2e6,energy_capacity:25,provisions:25},{ship_label:"Medium",examples:"Bombers, large shuttles, scout ships",size:8,acc:45,ts:600,climb:2,toughness:25,armor:6,mods:25,crew:5,cost:5e6,energy_capacity:100,provisions:100},{ship_label:"Large",examples:"Freighters, corvettes, scientific exploration vessels",size:12,acc:40,ts:500,climb:1,toughness:35,armor:8,mods:30,crew:50,cost:2e7,energy_capacity:300,provisions:300},{ship_label:"Huge",examples:"Destroyers, bulk freighters, light cruisers",size:16,acc:35,ts:400,climb:0,toughness:45,armor:10,mods:40,crew:300,cost:5e7,energy_capacity:500,provisions:500},{ship_label:"Giant",examples:"Cruisers, small battleships or carriers",size:20,acc:30,ts:300,climb:-1,toughness:50,armor:11,mods:50,crew:1e3,cost:2e8,energy_capacity:1e3,provisions:1e3},{ship_label:"Gargantuan",examples:"Battleships, carriers",size:24,acc:25,ts:200,climb:-2,toughness:55,armor:13,mods:70,crew:3e3,cost:1e9,energy_capacity:2e3,provisions:2e3},{ship_label:"Behemoth",examples:"Dreadnoughts, invasion carriers.",size:28,acc:20,ts:200,climb:-3,toughness:60,armor:15,mods:90,crew:8e3,cost:5e9,energy_capacity:2e3,provisions:2e3},{ship_label:"Leviathan",examples:"Super dreadnoughts, super carriers, settlement ships.",size:32,acc:20,ts:200,climb:-4,toughness:70,armor:20,mods:120,crew:2e4,cost:1e10,energy_capacity:2e3,provisions:2e3},{ship_label:"World Killer",examples:"Mega dreadnoughts, mega carriers, colony ships.",size:40,acc:20,ts:200,climb:-5,toughness:80,armor:25,mods:150,crew:5e4,cost:3e10,energy_capacity:2e3,provisions:2e3});$(".js-import-data").click(function(){""!=$(".js-import-code").val()&&(current_starship.import_json($(".js-import-code").val()),$(".js-set-ship-name").val(current_starship.item_name),$(".js-set-ship-description").val(current_starship.ship_description),$(".js-import-code").val(""),createAlert("Your ship has been imported.","success"))}),$(".js-save-item").click(function(){current_starship.size>0&&""!=current_starship.item_name&&"(nameless)"!=current_starship.item_name?(save_to_localstorage(current_starship.export_json()),propogateLoadList(),createAlert("Your ship has been saved.","success")):createAlert("Please name your ship and select a size before saving","danger")}),$(".js-load-data").click(function(){loadSelectedItem()}),$(".js-new-item").click(function(){confirm("Are you sure you want to clear your current ship?")&&(current_starship=new sw_starship,refresh_starship_page(),$(".js-set-ship-name").val(""),$(".js-set-ship-description").val(""),propogateLoadList())});var current_starship;$(window).load(function(){current_starship=new sw_starship,refresh_starship_page(),propogateLoadList()});
//# sourceMappingURL=sourcemap.map