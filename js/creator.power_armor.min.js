function sw_power_armor(){function a(){if(this.calculate_power_armor(),html_return="",html_return+="<h4>"+this.item_name+"</h4>",html_return+="<p>",html_return+=this.power_armor_description+"</p><br />",this.selected_size.power_armor_label){html_return+="<strong>"+this.selected_size.power_armor_label+" Power Armor</strong>: ",html_return+="Size "+this.size+", ",this.acc>0&&(html_return+="Acc/TS "+this.acc+"/"+this.ts+", "),this.aircraft&&(html_return+="Climb "+this.climb+", Flying Pace "+this.flying_pace+", "),html_return+="Toughness +"+this.armor+", ",html_return+="Pace "+this.pace+", ",html_return+="Cost $"+simplify_cost(this.cost)+"<br />",this.energy_capacity>0&&(html_return+="<strong>Energy Capacity</strong>: "+this.energy_capacity+"<br />"),html_return+="<strong>Mods Available</strong>: "+this.mods_available+"<br />",this.has_weapon_mount&&(html_return+="<strong>Weapon Mods Available</strong>: "+this.vehicle_weapon_mod_points+"<br />"),html_return+="<strong>Notes</strong>: ",this.sort_selected_modifications_list();for(var a in this.selected_modifications_list)html_return+=a,this.selected_modifications_list[a]>1&&(html_return+=" x"+this.selected_modifications_list[a]),html_return+=", ";html_return+="<br />",html_return+="<strong>Weapons</strong>: ",this.sort_selected_weapons_list();for(var b in this.selected_weapons_list)html_return+=b,this.selected_weapons_list[b]>1&&(html_return+=" x"+this.selected_weapons_list[b]),html_return+=", ";html_return+="<br />",this.get_modification_count("Shields")>0&&(html_return+="<strong>Shields</strong>: ",html_return+=10*this.size,html_return+=" - may recover  "+this.size+"/round<br />")}else html_return+="A power_armor size must be selected.";return html_return}function b(){if(this.calculate_power_armor(),html_return="",html_return+="[b][size=18]"+this.item_name+"[/size][/b]\n",html_return+=this.power_armor_description?""+this.power_armor_description+"\n\n":"\n",this.selected_size.power_armor_label){html_return+="[b]"+this.selected_size.power_armor_label+" Power Armor[/b]: ",html_return+="Size "+this.size+", ",html_return+="Acc/TS "+this.acc+"/"+this.ts+", ",html_return+="Climb "+this.climb+", ",html_return+="Toughness "+this.toughness+" ("+this.armor+"), ",html_return+="Crew "+this.crew+", ",html_return+="Cost $"+simplify_cost(this.cost)+"\n",this.energy_capacity>0&&(html_return+="[b]Energy Capacity[/b]: "+this.energy_capacity+"\n"),html_return+="[b]Mods Available[/b]: "+this.mods_available+"\n",html_return+="[b]Notes[/b]: ",this.sort_selected_modifications_list();for(var a in this.selected_modifications_list)html_return+=a,this.selected_modifications_list[a]>1&&(html_return+=" x"+this.selected_modifications_list[a]),html_return+=", ";html_return+="\n",html_return+="[b]Weapons[/b]: ",this.sort_selected_weapons_list();for(var b in this.selected_weapons_list)html_return+=b,this.selected_weapons_list[b]>1&&(html_return+=" x"+this.selected_weapons_list[b]),html_return+=", ";html_return+="\n",this.get_modification_count("Shields")>0&&(html_return+="[b]Shields[/b]: ",html_return+=10*this.size,html_return+=" - may recover  "+this.size+"/round\n")}else html_return+="A power_armor size must be selected.";for(removeHideCounter=1;31>removeHideCounter;removeHideCounter++)html_return=html_return.replace("<span class='hide'>"+removeHideCounter+"</span>","");return html_return}function c(){for(exportObject={},exportObject.size=this.size,exportObject.object_type="power_armor",exportObject.item_name=this.item_name,exportObject.power_armor_description=this.power_armor_description,exportObject.mods=Array(),modCounter=0;modCounter<this.selected_modifications.length;modCounter++)exportObject.mods=exportObject.mods.concat(this.selected_modifications[modCounter].name);for(exportObject.weapons=Array(),weaponCounter=0;weaponCounter<this.selected_weapons.length;weaponCounter++)weapon_item={name:this.selected_weapons[weaponCounter].name,fixed:this.selected_weapons[weaponCounter].fixed,linked:this.selected_weapons[weaponCounter].linked},exportObject.weapons=exportObject.weapons.concat(weapon_item);return JSON.stringify(exportObject)}function d(){this.item_name="(nameless)",this.power_armor_description="",this.power_armor_power_armor_label="",this.examples="",this.size=0,this.acc=0,this.ts=0,this.climb=0,this.toughness=0,this.base_toughness=0,this.armor=0,this.mods=0,this.base_mods=0,this.crew=0,this.cost=0,this.flying_pace=0,this.strength_bonus=0,this.aircraft=0,this.has_weapon_mount=0,this.vehicle_weapon_mod_points=0,this.base_cost=0,this.energy_capacity=0,this.base_energy_capacity=0,this.provisions=0,this.weight=0,this.pace=0,this.selected_size=0,this.selected_modifications=Array(),this.selected_modifications_list={},this.mods_available=0,this.selected_weapons=Array(),this.selected_weapons_list=Array()}function e(a){try{importedPowerArmorObj=JSON.parse(a)}catch(b){}if("object"==typeof importedPowerArmorObj){for(this.reset_data(),this.set_size(importedPowerArmorObj.size),this.set_item_name(importedPowerArmorObj.item_name),this.set_power_armor_description(importedPowerArmorObj.power_armor_description),modCounter=0;modCounter<importedPowerArmorObj.mods.length;modCounter++)this.add_mod(importedPowerArmorObj.mods[modCounter]);for(weaponCounter=0;weaponCounter<importedPowerArmorObj.weapons.length;weaponCounter++)this.add_weapon(importedPowerArmorObj.weapons[weaponCounter].name),importedPowerArmorObj.weapons[weaponCounter].fixed>0&&this.fix_weapon(this.selected_weapons.length-1,importedPowerArmorObj.weapons[weaponCounter].fixed),importedPowerArmorObj.weapons[weaponCounter].linked>0&&this.link_weapon(this.selected_weapons.length-1,importedPowerArmorObj.weapons[weaponCounter].linked);refresh_power_armor_page()}}function f(){var a=Object.keys(this.selected_modifications_list);a.sort();for(var b={},c=0;c<a.length;c++)keyName=a[c],b[keyName]=this.selected_modifications_list[keyName];this.selected_modifications_list=b}function g(){var a=Object.keys(this.selected_weapons_list);a.sort();for(var b={},c=0;c<a.length;c++)keyName=a[c],b[keyName]=this.selected_weapons_list[keyName];this.selected_weapons_list=b}function h(){if(this.selected_size.power_armor_label){for(this.strength_bonus=0,this.aircraft=0,this.has_weapon_mount=0,this.vehicle_weapon_mod_points=0,this.power_armor_label=this.selected_size.power_armor_label,this.examples=this.selected_size.examples,this.size=this.selected_size.size,this.acc=this.selected_size.acc,this.ts=this.selected_size.ts,this.aircraft=0,this.strength_bonus=0,this.climb=this.selected_size.climb,this.toughness=this.selected_size.toughness,this.base_toughness=this.selected_size.toughness,this.armor=this.selected_size.armor,this.mods=this.selected_size.mods,this.base_mods=this.selected_size.mods,this.crew=this.selected_size.crew,this.cost=this.selected_size.cost,this.base_cost=this.selected_size.cost,this.energy_capacity=this.selected_size.energy_capacity,this.base_energy_capacity=this.selected_size.energy_capacity,this.provisions=this.selected_size.provisions,this.weight=this.selected_size.weight,this.pace=this.selected_size.pace,this.selected_modifications.sort(sort_mods),this.selected_modifications_list={},calcModCount=0;calcModCount<this.selected_modifications.length;calcModCount++)this.mods=this.mods-this.selected_modifications[calcModCount].get_mod_cost(this),this.cost+=this.selected_modifications[calcModCount].get_cost(this),this.selected_modifications[calcModCount].get_weight&&(this.weight+=this.selected_modifications[calcModCount].get_weight(this)),this.selected_modifications[calcModCount].get_mod_effect&&this.selected_modifications[calcModCount].get_mod_effect(this),"Linked"!=this.selected_modifications[calcModCount].name&&("undefined"==typeof this.selected_modifications_list[this.selected_modifications[calcModCount].name]?this.selected_modifications_list[this.selected_modifications[calcModCount].name]=1:this.selected_modifications_list[this.selected_modifications[calcModCount].name]++);for(this.selected_weapons.sort(sort_mods),this.selected_weapons_list={},fixedWeaponModUsage=0,linkedWeaponModUsage=Array(),otherWeaponModUsage=0,calcModCount=0;calcModCount<this.selected_weapons.length;calcModCount++)weaponModCost=this.selected_weapons[calcModCount].mods,this.selected_weapons[calcModCount].fixed>0&&(weaponModCost/=2),this.selected_weapons[calcModCount].linked>0&&(weaponModCost/=2),this.vehicle_weapon_mod_points=this.vehicle_weapon_mod_points-weaponModCost,this.mods_available+=weaponModCost,this.selected_weapons[calcModCount].get_weight&&(this.weight+=this.selected_weapons[calcModCount].get_weight(this)),this.cost+=this.selected_weapons[calcModCount].cost,weaponListName=this.selected_weapons[calcModCount].name,this.selected_weapons[calcModCount].fixed>0?this.selected_weapons[calcModCount].linked>0?weaponListName=weaponListName+" (linked<span class='hide'>"+this.selected_weapons[calcModCount].linked+"</span>, fixed)":weaponListName+=" (fixed)":this.selected_weapons[calcModCount].linked>0&&(weaponListName=weaponListName+" (linked<span class='hide'>"+this.selected_weapons[calcModCount].linked+"</span>)"),"undefined"==typeof this.selected_weapons_list[weaponListName]?this.selected_weapons_list[weaponListName]=this.selected_weapons[calcModCount].missiles_per?this.selected_weapons[calcModCount].missiles_per:1:this.selected_weapons[calcModCount].missiles_per?this.selected_weapons_list[weaponListName]+=this.selected_weapons[calcModCount].missiles_per:this.selected_weapons_list[weaponListName]++;this.mods_available=this.mods}}function i(a){this.item_name=a}function j(a){this.power_armor_description=a}function k(a){for(return_value=0,addModCount=0;addModCount<power_armor_modifications.length;addModCount++)if(a.toLowerCase()==power_armor_modifications[addModCount].name.toLowerCase())return newMod=jQuery.extend({},power_armor_modifications[addModCount]),void(this.selected_modifications=this.selected_modifications.concat(newMod));return return_value}function l(a){for(return_value=0,addWeaponCount=0;addWeaponCount<vehicle_weapons.length;addWeaponCount++)if(a.toLowerCase()==vehicle_weapons[addWeaponCount].name.toLowerCase())return newWeapon=jQuery.extend({},vehicle_weapons[addWeaponCount]),newWeapon.linked=0,newWeapon.fixed=0,void(this.selected_weapons=this.selected_weapons.concat(newWeapon));return return_value}function m(a){for(removeModCount=0;removeModCount<this.selected_modifications.length;removeModCount++)if(a.toLowerCase()==this.selected_modifications[removeModCount].name.toLowerCase())return void this.selected_modifications.splice(removeModCount,1)}function n(a){a/=1,this.selected_weapons.splice(a,1)}function o(a,b){a/=1,this.selected_weapons[a].linked=b/1}function p(a,b){a/=1,this.selected_weapons[a].fixed=b/1}function q(){if(numberOfLinks=this.get_modification_count("Linked"),returnVal=Array(),numberOfLinks>0){for(linked_weapon_count=0;linked_weapon_count<this.selected_weapons.length;linked_weapon_count++)this.selected_weapons[linked_weapon_count].linked>0&&(this.selected_weapons[linked_weapon_count].linked>numberOfLinks?this.selected_weapons[linked_weapon_count].linked=0:returnVal[this.selected_weapons[linked_weapon_count].linked]=this.selected_weapons[linked_weapon_count].name);for(;returnVal.length<numberOfLinks+1;)for(linked_weapon_count=returnVal.length;numberOfLinks+1>linked_weapon_count;linked_weapon_count++)returnVal[linked_weapon_count]=""}else{for(linked_weapon_count=0;linked_weapon_count<this.selected_weapons.length;linked_weapon_count++)this.selected_weapons[linked_weapon_count].linked=0;returnVal=Array()}return returnVal}function r(a){for(return_value=0,modCount=0;modCount<this.selected_modifications.length;modCount++)a.toLowerCase()==this.selected_modifications[modCount].name.toLowerCase()&&return_value++;return return_value}function s(a){for(sizeCount=0;sizeCount<power_armor_sizes.length;sizeCount++)a==power_armor_sizes[sizeCount].size&&(this.selected_size=power_armor_sizes[sizeCount])}this.item_name="(nameless)",this.power_armor_description="",this.power_armor_power_armor_label="",this.examples="",this.size=0,this.object_type="power_armor",this.acc=0,this.ts=0,this.climb=0,this.toughness=0,this.base_toughness=0,this.base_cost=0,this.armor=0,this.mods=0,this.base_mods=0,this.crew=0,this.has_weapon_mount=0,this.flying_pace=0,this.cost=0,this.vehicle_weapon_mod_points=0,this.energy_capacity=0,this.base_energy_capacity=0,this.provisions=0,this.aircraft=0,this.selected_size=0,this.selected_modifications=Array(),this.selected_modifications_list={},this.mods_available=0,this.selected_weapons=Array(),this.selected_weapons_list=Array(),this.create_stats_block=a,this.export_bbcode=b,this.export_json=c,this.reset_data=d,this.import_json=e,this.sort_selected_modifications_list=f,this.sort_selected_weapons_list=g,this.calculate_power_armor=h,this.set_item_name=i,this.set_power_armor_description=j,this.add_mod=k,this.add_weapon=l,this.remove_mod=m,this.remove_weapon=n,this.link_weapon=o,this.fix_weapon=p,this.get_linked_weapons=q,this.get_modification_count=r,this.set_size=s}function propogate_size_select(){for(selectOptions="<option value=''>- Select Power Armor Size -</option>",sizeCount=0;sizeCount<power_armor_sizes.length;sizeCount++)isSelected="",current_power_armor.selected_size.size&&current_power_armor.selected_size.size==power_armor_sizes[sizeCount].size&&(isSelected=" selected='selected'"),selectOptions+="<option value='"+power_armor_sizes[sizeCount].size+"'"+isSelected+">"+power_armor_sizes[sizeCount].power_armor_label+" - Size "+power_armor_sizes[sizeCount].size,power_armor_sizes[sizeCount].examples&&(selectOptions+=" - "+power_armor_sizes[sizeCount].examples),selectOptions+="</option>";$(".js-select-size").html(selectOptions)}function propogate_add_mods(){for(modifications_html="<table>",modifications_html+="<thead><tr>",modifications_html+="<th>&nbsp;</th>",modifications_html+="<th>Name</th>",modifications_html+="<th>Used/Max</th>",modifications_html+="<th>Mod Cost</th>",modifications_html+="<th>Cost</th>",modifications_html+="</tr></thead><tbody>",mod_count=0;mod_count<power_armor_modifications.length;mod_count++)power_armor_mod_count=current_power_armor.get_modification_count(power_armor_modifications[mod_count].name),mod_cost=power_armor_modifications[mod_count].get_mod_cost(current_power_armor),(current_power_armor.mods_available>=mod_cost||power_armor_mod_count>0)&&(modifications_html+="<tr title='"+power_armor_modifications[mod_count].description+"'>",modifications_html+="<td style='white-space: nowrap;'>",modifications_html+=power_armor_mod_count>0?"<span ref='"+power_armor_modifications[mod_count].name+"' class='js-remove-mod glyphicon glyphicon-minus color-red'></span>":"<span class='glyphicon glyphicon-blank'></span>",current_power_armor.mods_available>=mod_cost&&("u"==power_armor_modifications[mod_count].get_max(current_power_armor)||power_armor_modifications[mod_count].get_max(current_power_armor)>power_armor_mod_count)&&(modifications_html+=" <span ref='"+power_armor_modifications[mod_count].name+"' class='js-add-mod glyphicon glyphicon-plus color-green'></span>"),modifications_html+="</td>",modifications_html+=power_armor_mod_count>0?"<td style='color: green'>"+power_armor_modifications[mod_count].name+"</td>":"<td>"+power_armor_modifications[mod_count].name+"</td>",modifications_html+="<td>"+power_armor_mod_count+"/"+power_armor_modifications[mod_count].get_max(current_power_armor)+"</td>",modifications_html+="<td>"+mod_cost+"</td>",modifications_html+="<td>"+simplify_cost(power_armor_modifications[mod_count].get_cost(current_power_armor))+"</td>",modifications_html+="</tr>");modifications_html+="</tbody></table>",$(".js-select-modifications").html(modifications_html)}function propogate_weapon_mods(){if(available_links=current_power_armor.get_linked_weapons(),weapon_mods_html="<fieldset><legend>Installed Weapons</legend>",available_links.length>0&&(weapon_mods_html+="Available Links: "+(available_links.length-1)+"<br />"),current_power_armor.selected_weapons.length>0){for(weapon_mods_html+="<table><thead><tr>",weapon_mods_html+="<th>Name</th>",weapon_mods_html+="<th colspan='3'>&nbsp;</th>",weapon_mods_html+="</tr></thead><tbody>",weapon_count=0;weapon_count<current_power_armor.selected_weapons.length;weapon_count++){if(weapon_mods_html+="<tr>",weapon_mods_html+="<td>",weapon_mods_html+=current_power_armor.selected_weapons[weapon_count].name,weapon_mods_html+="</td>",weapon_mods_html+="<td>",fixedcheck="",current_power_armor.selected_weapons[weapon_count].fixed>0&&(fixedcheck="checked='checked'"),weapon_mods_html+="<label style='display: inline;font-weight: normal;'>",available_links.length>0){for(weapon_mods_html+="<select class='js-link-weapon' ref='"+weapon_count+"'>",weapon_mods_html+="<option value='0'>Unlinked</option>",link_count=1;link_count<available_links.length;link_count++)linkedcheck="",current_power_armor.selected_weapons[weapon_count].linked==link_count&&(linkedcheck="selected='selected'"),("undefined"==typeof available_links[link_count]||"undefined"==available_links[link_count]||""==available_links[link_count]||available_links[link_count]==current_power_armor.selected_weapons[weapon_count].name)&&(weapon_mods_html+="<option value='"+link_count+"' "+linkedcheck+">Link #"+link_count+"</option>");weapon_mods_html+="</select>"}else weapon_mods_html+="&nbsp;";weapon_mods_html+="</td>",weapon_mods_html+="<td>",weapon_mods_html+="<button type='button' class='js-remove-weapon btn btn-danger  btn-xs' ref='"+weapon_count+"'>Remove</button>",weapon_mods_html+="</td>",weapon_mods_html+="</td>",weapon_mods_html+="</tr>"}weapon_mods_html+="</tbody></table>"}else weapon_mods_html+="No installed weapons<br />";if(weapon_mods_html+="</fieldset><fieldset><legend>Available Weapons</legend>",currentWeaponClass="",weaponCount=0,0==current_power_armor.has_weapon_mount)weapon_mods_html+="<p>To add a vehicle weapon, you'll require a Weapon Mount</p>";else for(mod_count=0;mod_count<vehicle_weapons.length;mod_count++)currentWeaponClass!=vehicle_weapons[mod_count].classification&&(weaponCount>0&&currentWeaponClass!=vehicle_weapons[mod_count].classification&&(weapon_mods_html+="</tbody></table>"),weaponCount=0,weapon_mods_html+="<h5>"+vehicle_weapons[mod_count].classification+"</h5><table><thead><tr>",weapon_mods_html+="<th>Name</th>",weapon_mods_html+="<th>Mod Cost</th>",weapon_mods_html+="<th>Cost</th>",weapon_mods_html+="</tr></thead><tbody>"),mod_cost=vehicle_weapons[mod_count].mods,current_power_armor.vehicle_weapon_mod_points>=mod_cost&&(weapon_mods_html+="<tr title='"+vehicle_weapons[mod_count].description+"'>",weapon_mods_html+=power_armor_mod_count>0?"<td style='color: green'>":"<td>",current_power_armor.vehicle_weapon_mod_points>=mod_cost&&(weapon_mods_html+="<button style='height: 25px; display: inline-block;' ref='"+vehicle_weapons[mod_count].name+"' class='js-add-weapon  btn btn-success btn-xs' type='button'>Install</button> "),weapon_mods_html+=vehicle_weapons[mod_count].name+"</td>",weapon_mods_html+="<td>"+mod_cost+"</td>",weapon_mods_html+="<td>"+simplify_cost(vehicle_weapons[mod_count].cost)+"</td>",weapon_mods_html+="</tr>"),currentWeaponClass=vehicle_weapons[mod_count].classification,weaponCount++;weapon_mods_html+="</fieldset>",$(".js-select-weapons").html(weapon_mods_html)}function refresh_power_armor_page(){$(".js-info-stats").html(current_power_armor.create_stats_block()),$(".js-bb-code").val(current_power_armor.export_bbcode()),$(".js-json-code").val(current_power_armor.export_json()),$(".js-set-power_armor-name").unbind("keyup"),$(".js-set-power_armor-name").keyup(function(){current_power_armor.set_item_name($(".js-set-power_armor-name").val()),refresh_power_armor_page()}),$(".js-set-power_armor-description").unbind("keyup"),$(".js-set-power_armor-description").keyup(function(){current_power_armor.set_power_armor_description($(".js-set-power_armor-description").val()),refresh_power_armor_page()}),propogate_size_select(),$(".js-select-size").unbind("change"),$(".js-select-size").change(function(){current_power_armor.set_size($(".js-select-size option:selected").val()),refresh_power_armor_page()}),current_power_armor.selected_size.power_armor_label?(propogate_add_mods(),$(".js-add-mod").unbind("click"),$(".js-add-mod").click(function(){current_power_armor.add_mod($(this).attr("ref")),refresh_power_armor_page()}),$(".js-remove-mod").unbind("click"),$(".js-remove-mod").click(function(){current_power_armor.remove_mod($(this).attr("ref")),refresh_power_armor_page()}),propogate_weapon_mods(),$(".js-add-weapon").unbind("click"),$(".js-add-weapon").click(function(){current_power_armor.add_weapon($(this).attr("ref")),refresh_power_armor_page()}),$(".js-remove-weapon").unbind("click"),$(".js-remove-weapon").click(function(){current_power_armor.remove_weapon($(this).attr("ref")),refresh_power_armor_page()}),$(".js-link-weapon").unbind("change"),$(".js-link-weapon").change(function(){weaponIndex=$(this).attr("ref"),linkIndex=$(this).val(),current_power_armor.link_weapon(weaponIndex,linkIndex),refresh_power_armor_page()}),$(".js-fix-weapon").unbind("click"),$(".js-fix-weapon").click(function(){weaponIndex=$(this).attr("ref"),$(this).is(":checked")?current_power_armor.fix_weapon(weaponIndex,1):current_power_armor.fix_weapon(weaponIndex,0),refresh_power_armor_page()}),$(".js-select-modifications-container").fadeIn()):$(".js-select-modifications-container").fadeOut()}function propogateLoadList(){for(currentPowerArmors=localstorage_parse_data(),html="<ul class='list-unstyled'>",lsCounter=0;lsCounter<currentPowerArmors.length;lsCounter++)"power_armor"==currentPowerArmors[lsCounter].type&&(html+="<li style='display:block;overflow:hidden; padding: 2px; margin: 2px; border-bottom: 1px solid #dedede;'>",html+="<label style='display: inline; font-weight: normal'>",html+="<input type='radio' name='selected_load' value='"+lsCounter+"' /> ",html+=currentPowerArmors[lsCounter].name+" (Size "+currentPowerArmors[lsCounter].size+")",html+="</label>",html+="<button ref='"+lsCounter+"' class='js-delete-data btn btn-danger pull-right btn-xs' type='button'>Delete</button>",html+="</li>");html+="</ul>",$(".js-load-list").html(html),$(".js-delete-data").click(function(){confirm("Are you sure you want to delete this item?")&&(selectedItemIndex=$(this).attr("ref"),delete_item_from_localstorage(selectedItemIndex),propogateLoadList())})}function loadSelectedItem(){selectedItemIndex=$("input[name=selected_load]:checked").val(),""!=selectedItemIndex&&(selectedItem=get_data_from_localstorage(selectedItemIndex),current_power_armor.import_json(selectedItem),$(".js-set-power_armor-name").val(current_power_armor.item_name),$(".js-set-power_armor-description").val(current_power_armor.ship_description),createAlert("Your power_armor has been loaded.","success"))}var power_armor_sizes=Array({power_armor_label:"Light",examples:"",size:1,acc:0,ts:0,climb:0,pace:8,toughness:0,armor:8,mods:5,crew:1,cost:5e5,weight:100,energy_capacity:0,provisions:0},{power_armor_label:"Medium",examples:"",size:2,acc:0,ts:0,climb:0,pace:6,toughness:0,armor:10,mods:8,crew:1,cost:1e6,weight:200,energy_capacity:0,provisions:0},{power_armor_label:"Heavy",examples:"",size:3,acc:0,ts:0,climb:0,pace:4,toughness:0,armor:12,mods:12,crew:1,cost:2e6,weight:300,energy_capacity:0,provisions:0});$(".js-import-data").click(function(){""!=$(".js-import-code").val()&&(current_power_armor.import_json($(".js-import-code").val()),$(".js-set-power_armor-name").val(current_power_armor.item_name),$(".js-set-power_armor-description").val(current_power_armor.power_armor_description),$(".js-import-code").val(""),createAlert("Your power_armor has been imported.","success"))}),$(".js-save-item").click(function(){current_power_armor.size>0&&""!=current_power_armor.item_name&&"(nameless)"!=current_power_armor.item_name?(save_to_localstorage(current_power_armor.export_json()),propogateLoadList(),createAlert("Your power_armor has been saved.","success")):createAlert("Please name your power_armor and select a size before saving","danger")}),$(".js-load-data").click(function(){loadSelectedItem(),propogateLoadList()}),$(".js-new-item").click(function(){confirm("Are you sure you want to clear your current power_armor?")&&(current_starship=new sw_starship,refresh_starship_page(),$(".js-set-power_armor-name").val(""),$(".js-set-power_armor-description").val(""),propogateLoadList())});var current_power_armor;$(window).load(function(){current_power_armor=new sw_power_armor,refresh_power_armor_page(),propogateLoadList()});var power_armor_modifications=Array({name:"Anti-Personnel System",description:"When activated (a free action via voice command), detonation packs attached to the suit explode in a Large Burst Template around the armor, causing 5d6 damage (the blast is shaped away from the suit so the wearer suffers only half damage). Wearers are advised to use this only as a last resort. Shrapnel pack reloads cost $1000, weigh 10 lb, and take one hour to install.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 5e3},get_mod_effect:function(){},get_weight:function(){return 10}},{name:"Armor",description:"Adds +2 Heavy Armor each time this Modification is taken.",get_max:function(a){return a.size},get_mod_cost:function(){return 1},get_cost:function(a){return 1e4*a.size},get_mod_effect:function(a){a.armor+=2},get_weight:function(){return 0}},{name:"Command Pack",description:"A well-designed suite of HUD apps and sensors to constantly monitor up to 100 team members within twenty miles. This extends the user’s Command Range to all those in contact. The Command Pack requires the Sensor Suite Modification first.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 5e4},get_mod_effect:function(){},get_weight:function(){return 0}},{name:"Flight",description:"The suit has expandable wings and thrusters for VTOL flight at a Pace of 6” and a Climb of 0. Each time it’s taken doubles previous Pace or increases Climb by 1.",get_max:function(){return"u"},get_mod_cost:function(){return 3},get_cost:function(a){return 5e3*a.size},get_mod_effect:function(a){0==a.aircraft?(a.climb=0,a.flying_pace=6):(a.climb++,a.flying_pace=2*a.flying_pace),a.aircraft=1},get_weight:function(){return 0}},{name:"Jump Pack",description:"The user can jump up to 2× the suit’s Pace horizontally or 1× Pace vertically.",get_max:function(){return 1},get_mod_cost:function(){return 2},get_cost:function(a){return 5e3*a.size},get_mod_effect:function(){},get_weight:function(){return 0}},{name:"Magnetic Pads",description:"The soles and palms of the suit are fitted with powerful magnets, allowing the wearer to walk up or cling to metal surfaces at full Pace. These are most often used in zero-g to allow marines to attach to ship’s hulls or walkways.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 5e3},get_mod_effect:function(){},get_weight:function(){return 0}},{name:"Pace",description:"Powerful motors in the leg joints combine with gyroscopic stabilizers to increase Pace by +2 and the running die to d10. Each enhancement after the first only increases Pace by +2.",get_max:function(){return 3},get_mod_cost:function(){return 1},get_cost:function(){return 5e3},get_mod_effect:function(a){a.pace++,a.pace++},get_weight:function(){return 0}},{name:"Power Pack",description:"Additional power cells add another 72 hours of energy.",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 5e4},get_mod_effect:function(a){a.pace++,a.pace++},get_weight:function(){return 0}},{name:"Propulsion Jets",description:"Small propulsion jets allow the character to move in vacuum or water at 6”. The jets provide no benefits outside these environments.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 5e3},get_mod_effect:function(){},get_weight:function(){return 0}},{name:"Self-Sealing",description:"The suit automatically seals minor breaches (the user suffers one or two wounds) with a fast-hardening sealant. This is critical when operating in a vacuum. If the wearer suffers three or more wounds from a single attack, however, the suit cannot seal and is breached.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 1e4},get_mod_effect:function(){},get_weight:function(){return 0}},{name:"Sensor Suite",description:"An array of various sensors extends the suit’s +2 bonus to visual and aural Notice rolls to 500 yards.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 5e3},get_mod_effect:function(){},get_weight:function(){return 0}},{name:"Signal Booster",description:"Increases communication range to 500 miles.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 5e3},get_mod_effect:function(){},get_weight:function(){return 0}},{name:"Stealth System",description:"This thin and pliable piezoelectric material combines chameleon-like visual skin with heat baffles, radar scramblers, and other devices to make the suit difficult to detect by vision or sensors. Those trying to attack or detect the suit subtract 4 from their rolls against it. The effect is triggered as a free action, but is negated any round in which the user fires a weapon or emits some other non-cloakable signal such as radio broadcasts or active sensor searches.",get_max:function(){return 1},get_mod_cost:function(){return 3},get_cost:function(){return 1e4},get_mod_effect:function(){},get_weight:function(){return 0}},{name:"Strength Enhancement",description:"Increases Strength by one die type each time it’s taken. After d12, add +1 per servo (d12+1, d12+2, etc).",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 5e3},get_mod_effect:function(a){a.strength_bonus++},get_weight:function(){return 0}},{name:"Targeting System",description:"An integrated system connects to all personal and weapon mounts to compensate for movement, range, multi-actions, and the like. This negates up to two points of the user’s Shooting penalties.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 2e4},get_mod_effect:function(a){a.strength_bonus++},get_weight:function(){return 0}},{name:"Trauma System",description:"Automated systems within the suit are loaded with minor antibiotics, stimulants, and anesthetics designed to keep a soldier alive after suffering trauma. It has a d8 Healing and adds +2 to recover from being Shaken and resisting Bleeding Out.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 25e3},get_mod_effect:function(a){a.strength_bonus++},get_weight:function(){return 0}},{name:"Weapon Mount",description:"Automated systems within the suit are loaded with minor antibiotics, stimulants, and anesthetics designed to keep a soldier alive after suffering trauma. It has a d8 Healing and adds +2 to recover from being Shaken and resisting Bleeding Out.",get_max:function(){return 2},get_mod_cost:function(){return 1},get_cost:function(){return 5e3},get_mod_effect:function(a){a.has_weapon_mount=1,a.vehicle_weapon_mod_points++},get_weight:function(){return 0}});
//# sourceMappingURL=sourcemap.map