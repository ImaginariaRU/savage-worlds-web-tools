function sw_vehicle(){function a(){if(this.calculate_vehicle(),html_return="",html_return+="<h4>"+this.item_name+"</h4>",html_return+="<p>",html_return+=this.vehicle_description+"</p><br />",this.selected_size.vehicle_label){html_return+="<strong>"+this.selected_size.vehicle_label+" Vehicle</strong>: ",html_return+="Size "+this.size+", ",html_return+="Acc/TS "+this.acc+"/"+this.ts+", ",this.aircraft&&(html_return+="Climb "+this.climb+", "),html_return+="Toughness "+this.toughness+" ("+this.armor+"), ",html_return+="Crew "+this.crew+", ",html_return+="Cost $"+simplify_cost(this.cost)+"<br />",this.energy_capacity>0&&(html_return+="<strong>Energy Capacity</strong>: "+this.energy_capacity+"<br />"),html_return+="<strong>Mods Available</strong>: "+this.mods_available+"<br />",html_return+="<strong>Notes</strong>: ",this.sort_selected_modifications_list();for(var a in this.selected_modifications_list)html_return+=a,this.selected_modifications_list[a]>1&&(html_return+=" x"+this.selected_modifications_list[a]),html_return+=", ";html_return+="<br />",html_return+="<strong>Weapons</strong>: ",this.sort_selected_weapons_list();for(var b in this.selected_weapons_list)html_return+=b,this.selected_weapons_list[b]>1&&(html_return+=" x"+this.selected_weapons_list[b]),html_return+=", ";html_return+="<br />",this.get_modification_count("Shields")>0&&(html_return+="<strong>Shields</strong>: ",html_return+=10*this.size,html_return+=" - may recover  "+this.size+"/round<br />")}else html_return+="A vehicle size must be selected.";return html_return}function b(){if(this.calculate_vehicle(),html_return="",html_return+="[b][size=18]"+this.item_name+"[/size][/b]\n",html_return+=this.vehicle_description?""+this.vehicle_description+"\n\n":"\n",this.selected_size.vehicle_label){html_return+="[b]"+this.selected_size.vehicle_label+" Vehicle[/b]: ",html_return+="Size "+this.size+", ",html_return+="Acc/TS "+this.acc+"/"+this.ts+", ",this.aircraft&&(html_return+="Climb "+this.climb+", "),html_return+="Toughness "+this.toughness+" ("+this.armor+"), ",html_return+="Crew "+this.crew+", ",html_return+="Cost $"+simplify_cost(this.cost)+"\n",this.energy_capacity>0&&(html_return+="[b]Energy Capacity[/b]: "+this.energy_capacity+"\n"),html_return+="[b]Mods Available[/b]: "+this.mods_available+"\n",html_return+="[b]Notes[/b]: ",this.sort_selected_modifications_list();for(var a in this.selected_modifications_list)html_return+=a,this.selected_modifications_list[a]>1&&(html_return+=" x"+this.selected_modifications_list[a]),html_return+=", ";html_return+="\n",html_return+="[b]Weapons[/b]: ",this.sort_selected_weapons_list();for(var b in this.selected_weapons_list)html_return+=b,this.selected_weapons_list[b]>1&&(html_return+=" x"+this.selected_weapons_list[b]),html_return+=", ";html_return+="\n",this.get_modification_count("Shields")>0&&(html_return+="[b]Shields[/b]: ",html_return+=10*this.size,html_return+=" - may recover  "+this.size+"/round\n")}else html_return+="A vehicle size must be selected.";for(removeHideCounter=1;31>removeHideCounter;removeHideCounter++)html_return=html_return.replace("<span class='hide'>"+removeHideCounter+"</span>","");return html_return}function c(){for(exportObject={},exportObject.size=this.size,exportObject.object_type="vehicle",exportObject.item_name=this.item_name,exportObject.vehicle_description=this.vehicle_description,exportObject.mods=Array(),modCounter=0;modCounter<this.selected_modifications.length;modCounter++)exportObject.mods=exportObject.mods.concat(this.selected_modifications[modCounter].name);for(exportObject.weapons=Array(),weaponCounter=0;weaponCounter<this.selected_weapons.length;weaponCounter++)weapon_item={name:this.selected_weapons[weaponCounter].name,fixed:this.selected_weapons[weaponCounter].fixed,linked:this.selected_weapons[weaponCounter].linked},exportObject.weapons=exportObject.weapons.concat(weapon_item);return JSON.stringify(exportObject)}function d(){this.item_name="(nameless)",this.vehicle_description="",this.vehicle_vehicle_label="",this.examples="",this.size=0,this.acc=0,this.ts=0,this.climb=0,this.toughness=0,this.base_toughness=0,this.armor=0,this.mods=0,this.base_mods=0,this.crew=0,this.cost=0,this.base_cost=0,this.energy_capacity=0,this.base_energy_capacity=0,this.provisions=0,this.selected_size=0,this.selected_modifications=Array(),this.selected_modifications_list={},this.mods_available=0,this.selected_weapons=Array(),this.selected_weapons_list=Array()}function e(a){try{importedVehicleObj=JSON.parse(a)}catch(b){}if("object"==typeof importedVehicleObj){for(this.reset_data(),this.set_size(importedVehicleObj.size),this.set_item_name(importedVehicleObj.item_name),this.set_vehicle_description(importedVehicleObj.vehicle_description),modCounter=0;modCounter<importedVehicleObj.mods.length;modCounter++)this.add_mod(importedVehicleObj.mods[modCounter]);for(weaponCounter=0;weaponCounter<importedVehicleObj.weapons.length;weaponCounter++)this.add_weapon(importedVehicleObj.weapons[weaponCounter].name),importedVehicleObj.weapons[weaponCounter].fixed&&this.fix_weapon(this.selected_weapons.length-1,importedVehicleObj.weapons[weaponCounter].fixed),importedVehicleObj.weapons[weaponCounter].linked&&this.link_weapon(this.selected_weapons.length-1,importedVehicleObj.weapons[weaponCounter].linked);refresh_vehicle_page()}}function f(){var a=Object.keys(this.selected_modifications_list);a.sort();for(var b={},c=0;c<a.length;c++)keyName=a[c],b[keyName]=this.selected_modifications_list[keyName];this.selected_modifications_list=b}function g(){var a=Object.keys(this.selected_weapons_list);a.sort();for(var b={},c=0;c<a.length;c++)keyName=a[c],b[keyName]=this.selected_weapons_list[keyName];this.selected_weapons_list=b}function h(){if(this.selected_size.vehicle_label){for(this.vehicle_label=this.selected_size.vehicle_label,this.examples=this.selected_size.examples,this.size=this.selected_size.size,this.acc=this.selected_size.acc,this.ts=this.selected_size.ts,this.aircraft=0,this.climb=this.selected_size.climb,this.toughness=this.selected_size.toughness,this.base_toughness=this.selected_size.toughness,this.armor=this.selected_size.armor,this.mods=this.selected_size.mods,this.base_mods=this.selected_size.mods,this.crew=this.selected_size.crew,this.cost=this.selected_size.cost,this.base_cost=this.selected_size.cost,this.energy_capacity=this.selected_size.energy_capacity,this.base_energy_capacity=this.selected_size.energy_capacity,this.provisions=this.selected_size.provisions,this.selected_modifications.sort(sort_mods),this.selected_modifications_list={},calcModCount=0;calcModCount<this.selected_modifications.length;calcModCount++){if(is_available=!0,this.selected_modifications[calcModCount].is_available&&(is_available=this.selected_modifications[calcModCount].is_available(this)),!is_available)return createAlert(this.selected_modifications[calcModCount].name+" is no longer availble for this configuration. Removing.","warning"),this.remove_mod(this.selected_modifications[calcModCount].name),void this.calculate_vehicle();this.mods=this.mods-this.selected_modifications[calcModCount].get_mod_cost(this),this.cost+=this.selected_modifications[calcModCount].get_cost(this),this.selected_modifications[calcModCount].get_mod_effect&&this.selected_modifications[calcModCount].get_mod_effect(this),"Linked"!=this.selected_modifications[calcModCount].name&&("undefined"==typeof this.selected_modifications_list[this.selected_modifications[calcModCount].name]?this.selected_modifications_list[this.selected_modifications[calcModCount].name]=1:this.selected_modifications_list[this.selected_modifications[calcModCount].name]++)}for(this.selected_weapons.sort(sort_mods),this.selected_weapons_list={},fixedWeaponModUsage=0,linkedWeaponModUsage=Array(),otherWeaponModUsage=0,calcModCount=0;calcModCount<this.selected_weapons.length;calcModCount++){if(is_available=!0,this.selected_weapons[calcModCount].is_available&&(is_available=this.selected_weapons[calcModCount].is_available(this)),!is_available)return createAlert(this.selected_weapons[calcModCount].name+" is no longer availble for this configuration. Removing.","warning"),this.remove_weapon(calcModCount),void this.calculate_ship();weaponCost=this.selected_weapons[calcModCount].mods,this.selected_weapons[calcModCount].fixed&&(weaponCost/=2),this.selected_weapons[calcModCount].linked&&(weaponCost/=2),this.mods=this.mods-weaponCost,this.cost+=this.selected_weapons[calcModCount].cost,weaponListName=this.selected_weapons[calcModCount].name,this.selected_weapons[calcModCount].fixed?this.selected_weapons[calcModCount].linked?weaponListName=weaponListName+" (linked<span class='hide'>"+this.selected_weapons[calcModCount].linked+"</span>, fixed)":weaponListName+=" (fixed)":this.selected_weapons[calcModCount].linked&&(weaponListName=weaponListName+" (linked<span class='hide'>"+this.selected_weapons[calcModCount].linked+"</span>)"),"undefined"==typeof this.selected_weapons_list[weaponListName]?this.selected_weapons_list[weaponListName]=this.selected_weapons[calcModCount].missiles_per?this.selected_weapons[calcModCount].missiles_per:1:this.selected_weapons[calcModCount].missiles_per?this.selected_weapons_list[weaponListName]+=this.selected_weapons[calcModCount].missiles_per:this.selected_weapons_list[weaponListName]++}this.mods_available=this.mods}}function i(a){this.item_name=a}function j(a){this.vehicle_description=a}function k(a){for(return_value=0,addModCount=0;addModCount<vehicle_modifications.length;addModCount++)if(a.toLowerCase()==vehicle_modifications[addModCount].name.toLowerCase())return newMod=jQuery.extend({},vehicle_modifications[addModCount]),void(this.selected_modifications=this.selected_modifications.concat(newMod));return return_value}function l(a){for(return_value=0,addWeaponCount=0;addWeaponCount<vehicle_weapons.length;addWeaponCount++)if(a.toLowerCase()==vehicle_weapons[addWeaponCount].name.toLowerCase())return newWeapon=jQuery.extend({},vehicle_weapons[addWeaponCount]),newWeapon.linked=0,newWeapon.fixed=0,void(this.selected_weapons=this.selected_weapons.concat(newWeapon));return return_value}function m(a){for(removeModCount=0;removeModCount<this.selected_modifications.length;removeModCount++)if(a.toLowerCase()==this.selected_modifications[removeModCount].name.toLowerCase())return void this.selected_modifications.splice(removeModCount,1)}function n(a){a/=1,this.selected_weapons.splice(a,1)}function o(a,b){a/=1,this.selected_weapons[a].linked=b/1}function p(a,b){a/=1,this.selected_weapons[a].fixed=b}function q(){if(numberOfLinks=this.get_modification_count("Linked"),returnVal=Array(),numberOfLinks>0){for(linked_weapon_count=0;linked_weapon_count<this.selected_weapons.length;linked_weapon_count++)this.selected_weapons[linked_weapon_count].linked&&(this.selected_weapons[linked_weapon_count].linked>numberOfLinks?this.selected_weapons[linked_weapon_count].linked=0:returnVal[this.selected_weapons[linked_weapon_count].linked]=this.selected_weapons[linked_weapon_count].name);for(;returnVal.length<numberOfLinks+1;)for(linked_weapon_count=returnVal.length;numberOfLinks+1>linked_weapon_count;linked_weapon_count++)returnVal[linked_weapon_count]=""}else{for(linked_weapon_count=0;linked_weapon_count<this.selected_weapons.length;linked_weapon_count++)this.selected_weapons[linked_weapon_count].linked=0;returnVal=Array()}return returnVal}function r(a){for(return_value=0,modCount=0;modCount<this.selected_modifications.length;modCount++)a.toLowerCase()==this.selected_modifications[modCount].name.toLowerCase()&&return_value++;return return_value}function s(a){for(sizeCount=0;sizeCount<vehicle_sizes.length;sizeCount++)a==vehicle_sizes[sizeCount].size&&(this.selected_size=vehicle_sizes[sizeCount])}this.item_name="(nameless)",this.vehicle_description="",this.vehicle_vehicle_label="",this.examples="",this.size=0,this.object_type="vehicle",this.acc=0,this.ts=0,this.climb=0,this.toughness=0,this.base_toughness=0,this.base_cost=0,this.armor=0,this.mods=0,this.base_mods=0,this.crew=0,this.cost=0,this.energy_capacity=0,this.base_energy_capacity=0,this.provisions=0,this.aircraft=0,this.selected_size=0,this.selected_modifications=Array(),this.selected_modifications_list={},this.mods_available=0,this.selected_weapons=Array(),this.selected_weapons_list=Array(),this.create_stats_block=a,this.export_bbcode=b,this.export_json=c,this.reset_data=d,this.import_json=e,this.sort_selected_modifications_list=f,this.sort_selected_weapons_list=g,this.calculate_vehicle=h,this.set_item_name=i,this.set_vehicle_description=j,this.add_mod=k,this.add_weapon=l,this.remove_mod=m,this.remove_weapon=n,this.link_weapon=o,this.fix_weapon=p,this.get_linked_weapons=q,this.get_modification_count=r,this.set_size=s}function propogate_size_select(){for(selectOptions="<option value=''>- Select Vehicle Size -</option>",sizeCount=0;sizeCount<vehicle_sizes.length;sizeCount++)isSelected="",current_vehicle.selected_size.size&&current_vehicle.selected_size.size==vehicle_sizes[sizeCount].size&&(isSelected=" selected='selected'"),selectOptions+="<option value='"+vehicle_sizes[sizeCount].size+"'"+isSelected+">"+vehicle_sizes[sizeCount].vehicle_label+" - Size "+vehicle_sizes[sizeCount].size,vehicle_sizes[sizeCount].examples&&(selectOptions+=" - "+vehicle_sizes[sizeCount].examples),selectOptions+="</option>";$(".js-select-size").html(selectOptions)}function propogate_add_mods(){for(modifications_html="<table>",modifications_html+="<thead><tr>",modifications_html+="<th>&nbsp;</th>",modifications_html+="<th>Name</th>",modifications_html+="<th>Used/Max</th>",modifications_html+="<th>Mod Cost</th>",modifications_html+="<th>Cost</th>",modifications_html+="</tr></thead><tbody>",mod_count=0;mod_count<vehicle_modifications.length;mod_count++)vehicle_mod_count=current_vehicle.get_modification_count(vehicle_modifications[mod_count].name),mod_cost=vehicle_modifications[mod_count].get_mod_cost(current_vehicle),is_available=!0,vehicle_modifications[mod_count].is_available&&(is_available=vehicle_modifications[mod_count].is_available(current_vehicle)),(current_vehicle.mods_available>=mod_cost||vehicle_mod_count>0)&&is_available&&(modifications_html+="<tr title='"+vehicle_modifications[mod_count].description+"'>",modifications_html+="<td style='white-space: nowrap;'>",modifications_html+=vehicle_mod_count>0?"<span ref='"+vehicle_modifications[mod_count].name+"' class='js-remove-mod glyphicon glyphicon-minus color-red'></span>":"<span class='glyphicon glyphicon-blank'></span>",current_vehicle.mods_available>=mod_cost&&("u"==vehicle_modifications[mod_count].get_max(current_vehicle)||vehicle_modifications[mod_count].get_max(current_vehicle)>vehicle_mod_count)&&(modifications_html+=" <span ref='"+vehicle_modifications[mod_count].name+"' class='js-add-mod glyphicon glyphicon-plus color-green'></span>"),modifications_html+="</td>",modifications_html+=vehicle_mod_count>0?"<td style='color: green'>"+vehicle_modifications[mod_count].name+"</td>":"<td>"+vehicle_modifications[mod_count].name+"</td>",modifications_html+="<td>"+vehicle_mod_count+"/"+vehicle_modifications[mod_count].get_max(current_vehicle)+"</td>",modifications_html+="<td>"+mod_cost+"</td>",modifications_html+="<td>"+simplify_cost(vehicle_modifications[mod_count].get_cost(current_vehicle))+"</td>",modifications_html+="</tr>");modifications_html+="</tbody></table>",$(".js-select-modifications").html(modifications_html)}function propogate_weapon_mods(){if(available_links=current_vehicle.get_linked_weapons(),weapon_mods_html="<fieldset><legend>Installed Weapons</legend>",available_links.length>0&&(weapon_mods_html+="Available Links: "+(available_links.length-1)+"<br />"),current_vehicle.selected_weapons.length>0){for(weapon_mods_html+="<table><thead><tr>",weapon_mods_html+="<th>Name</th>",weapon_mods_html+="<th colspan='3'>&nbsp;</th>",weapon_mods_html+="</tr></thead><tbody>",weapon_count=0;weapon_count<current_vehicle.selected_weapons.length;weapon_count++){if(weapon_mods_html+="<tr>",weapon_mods_html+="<td>",weapon_mods_html+=current_vehicle.selected_weapons[weapon_count].name,weapon_mods_html+="</td>",weapon_mods_html+="<td>",fixedcheck="",current_vehicle.selected_weapons[weapon_count].fixed&&(fixedcheck="checked='checked'"),weapon_mods_html+="<label style='display: inline;font-weight: normal;'><input type='checkbox' class='js-fix-weapon' ref='"+weapon_count+"' "+fixedcheck+"/> Fixed</label>",available_links.length>0){for(weapon_mods_html+="<select class='js-link-weapon' ref='"+weapon_count+"'>",weapon_mods_html+="<option value='0'>Unlinked</option>",link_count=1;link_count<available_links.length;link_count++)linkedcheck="",current_vehicle.selected_weapons[weapon_count].linked==link_count&&(linkedcheck="selected='selected'"),("undefined"==typeof available_links[link_count]||"undefined"==available_links[link_count]||""==available_links[link_count]||available_links[link_count]==current_vehicle.selected_weapons[weapon_count].name)&&(weapon_mods_html+="<option value='"+link_count+"' "+linkedcheck+">Link #"+link_count+"</option>");weapon_mods_html+="</select>"}else weapon_mods_html+="&nbsp;";weapon_mods_html+="</td>",weapon_mods_html+="<td>",weapon_mods_html+="<button type='button' class='js-remove-weapon btn btn-danger  btn-xs' ref='"+weapon_count+"'>Remove</button>",weapon_mods_html+="</td>",weapon_mods_html+="</td>",weapon_mods_html+="</tr>"}weapon_mods_html+="</tbody></table>"}else weapon_mods_html+="No installed weapons<br />";for(weapon_mods_html+="</fieldset><fieldset><legend>Available Weapons</legend>",currentWeaponClass="",weaponCount=0,mod_count=0;mod_count<vehicle_weapons.length;mod_count++)currentWeaponClass!=vehicle_weapons[mod_count].classification&&(weaponCount>0&&currentWeaponClass!=vehicle_weapons[mod_count].classification&&(weapon_mods_html+="</tbody></table>"),weaponCount=0,weapon_mods_html+="<h5>"+vehicle_weapons[mod_count].classification+"</h5><table><thead><tr>",weapon_mods_html+="<th>Name</th>",weapon_mods_html+="<th>Mod Cost</th>",weapon_mods_html+="<th>Cost</th>",weapon_mods_html+="</tr></thead><tbody>"),mod_cost=vehicle_weapons[mod_count].mods,is_available=!0,vehicle_weapons[mod_count].is_available&&(is_available=vehicle_weapons[mod_count].is_available(current_vehicle)),current_vehicle.mods_available>=mod_cost&&is_available&&(weapon_mods_html+="<tr title='"+vehicle_weapons[mod_count].description+"'>",weapon_mods_html+=vehicle_mod_count>0?"<td style='color: green'>":"<td>",current_vehicle.mods_available>=mod_cost&&(weapon_mods_html+="<button style='height: 25px; display: inline-block;' ref='"+vehicle_weapons[mod_count].name+"' class='js-add-weapon  btn btn-success btn-xs' type='button'>Install</button> "),weapon_mods_html+=vehicle_weapons[mod_count].name+"</td>",weapon_mods_html+="<td>"+mod_cost+"</td>",weapon_mods_html+="<td>"+simplify_cost(vehicle_weapons[mod_count].cost)+"</td>",weapon_mods_html+="</tr>"),weapon_mods_html+="</fieldset>",currentWeaponClass=vehicle_weapons[mod_count].classification,weaponCount++;$(".js-select-weapons").html(weapon_mods_html)}function refresh_vehicle_page(){$(".js-info-stats").html(current_vehicle.create_stats_block()),$(".js-bb-code").val(current_vehicle.export_bbcode()),$(".js-json-code").val(current_vehicle.export_json()),$(".js-set-vehicle-name").unbind("keyup"),$(".js-set-vehicle-name").keyup(function(){current_vehicle.set_item_name($(".js-set-vehicle-name").val()),refresh_vehicle_page()}),$(".js-set-vehicle-description").unbind("keyup"),$(".js-set-vehicle-description").keyup(function(){current_vehicle.set_vehicle_description($(".js-set-vehicle-description").val()),refresh_vehicle_page()}),propogate_size_select(),$(".js-select-size").unbind("change"),$(".js-select-size").change(function(){current_vehicle.set_size($(".js-select-size option:selected").val()),refresh_vehicle_page()}),current_vehicle.selected_size.vehicle_label?(propogate_add_mods(),$(".js-add-mod").unbind("click"),$(".js-add-mod").click(function(){current_vehicle.add_mod($(this).attr("ref")),refresh_vehicle_page()}),$(".js-remove-mod").unbind("click"),$(".js-remove-mod").click(function(){current_vehicle.remove_mod($(this).attr("ref")),refresh_vehicle_page()}),propogate_weapon_mods(),$(".js-add-weapon").unbind("click"),$(".js-add-weapon").click(function(){current_vehicle.add_weapon($(this).attr("ref")),refresh_vehicle_page()}),$(".js-remove-weapon").unbind("click"),$(".js-remove-weapon").click(function(){current_vehicle.remove_weapon($(this).attr("ref")),refresh_vehicle_page()}),$(".js-link-weapon").unbind("change"),$(".js-link-weapon").change(function(){weaponIndex=$(this).attr("ref"),linkIndex=$(this).val(),current_vehicle.link_weapon(weaponIndex,linkIndex),refresh_vehicle_page()}),$(".js-fix-weapon").unbind("click"),$(".js-fix-weapon").click(function(){weaponIndex=$(this).attr("ref"),$(this).is(":checked")?current_vehicle.fix_weapon(weaponIndex,1):current_vehicle.fix_weapon(weaponIndex,0),refresh_vehicle_page()}),$(".js-select-modifications-container").fadeIn()):$(".js-select-modifications-container").fadeOut()}function propogateLoadList(){for(currentVehicles=localstorage_parse_data(),html="<ul class='list-unstyled'>",lsCounter=0;lsCounter<currentVehicles.length;lsCounter++)"vehicle"==currentVehicles[lsCounter].type&&(html+="<li style='display:block;overflow:hidden; padding: 2px; margin: 2px; border-bottom: 1px solid #dedede;'>",html+="<label style='display: inline; font-weight: normal'>",html+="<input type='radio' name='selected_load' value='"+lsCounter+"' /> ",html+=currentVehicles[lsCounter].name+" (Size "+currentVehicles[lsCounter].size+")",html+="</label>",html+="<button ref='"+lsCounter+"' class='js-delete-data btn btn-danger pull-right btn-xs' type='button'>Delete</button>",html+="</li>");html+="</ul>",$(".js-load-list").html(html),$(".js-delete-data").click(function(){confirm("Are you sure you want to delete this item?")&&(selectedItemIndex=$(this).attr("ref"),delete_item_from_localstorage(selectedItemIndex),propogateLoadList())})}function loadSelectedItem(){selectedItemIndex=$("input[name=selected_load]:checked").val(),""!=selectedItemIndex&&(selectedItem=get_data_from_localstorage(selectedItemIndex),current_vehicle.import_json(selectedItem),$(".js-set-vehicle-name").val(current_vehicle.item_name),$(".js-set-vehicle-description").val(current_vehicle.ship_description),createAlert("Your vehicle has been loaded.","success"))}var vehicle_modifications=Array({name:"Aircraft, Anti-Grav",description:"Ultra Tech. The vehicle is an aircraft powered by anti-gravitic propulsion. It can hover or fly, and has a Acc/TS of 30/100 and Climb of 2.",get_max:function(){return 1},get_mod_cost:function(){return 2},get_cost:function(a){return 2e4*a.size},get_mod_effect:function(a){a.aircraft=1,a.climb=2,a.acc=30,a.ts=100},calc_weight:1},{name:"Aircraft, Helicopter",description:"The vehicle is a helicopter. It can hover or fly, and has a Acc/TS 10/80 and a Climb of –1.",get_max:function(){return 1},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 5e3*a.size},get_mod_effect:function(a){a.aircraft=1,a.climb=-1,a.acc=10,a.ts=80},calc_weight:1},{name:"Aircraft, Jet Plane",description:"Jet planes are Acc/TS 50/600, Climb 2. They must move at least half their Top Speed each round or go Out of Control (they stall). The Speed Mod increases Acc by 10 instead of 5 and Top Speed by 100 instead of 10.",get_max:function(){return 1},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 1e4*a.size},get_mod_effect:function(a){a.aircraft=1,a.climb=2,a.acc=50,a.ts=600},calc_weight:1},{name:"Aircraft, Propeller Plane",description:"A traditional prop plane. Acc/TS 20/150, Climb 1. Planes must move at least half their Top Speed each round or go Out of Control (they stall). The Speed Mod increases Top Speed by 50 instead of 10.",get_max:function(){return 1},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 5e3*a.size},get_mod_effect:function(a){a.aircraft=1,a.climb=1,a.acc=20,a.ts=150},calc_weight:1},{name:"AMCM",description:"Anti-Missile Counter Measures are integrated jammers and decoys. They add +2 to Driving, Piloting or Knowledge (Electronics) rolls made to evade missile attacks.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(a){return 5e3*a.size}},{name:"Amphibious",description:"The vehicle may move at half Acc/Top Speed while in water.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(a){return 1e3*a.size}},{name:"Armor",description:"Increases a vehicle’s Armor value by +2. Due to the nature of space and the size and shape of vehicles, all Armor is considered Heavy Armor.",get_max:function(a){return a.size},get_mod_cost:function(){return 1},get_cost:function(a){return 1e4*a.size},get_mod_effect:function(a){a.armor++,a.armor++,a.toughness++,a.toughness++}},{name:"Artificial Intelligence",description:"The vehicle’s AI can operate all systems — from locomotion to weapons to opening or closing hatches. It has a skill level of d10 in these tasks, but is an “Extra” and does not receive a Wild Die. The AI does not suffer from multi-action penalties if given simultaneous tasks. In combat, the AI acts on the captain’s Action Card. Giving the AI a short verbal command is a free action.",get_max:function(){return 1},get_mod_cost:function(){return 0},get_cost:function(a){return 1e4*a.size}},{name:"Boosters",description:"Nitrous oxide or other propellants double a vehicle’s Acceleration and Top Speed for a round. Each booster has six uses before it must be replaced. Their effects do not stack. Refills cost $100 per booster.",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(a){return 1e3*a.size}},{name:"Climb",description:"Add 1 Mod slot for every four crewman deducted (round up).",get_max:function(){return 5},get_mod_cost:function(){return 1},get_cost:function(a){return 5e3*a.size},get_mod_effect:function(a){a.climb=a.climb+1}},{name:"Crew Reduction",description:"Add 1 Mod slot for every four crewman deducted (round up).",get_max:function(){return"u"},get_mod_cost:function(){return 0},get_cost:function(){return 0},get_mod_effect:function(a){a.crew=a.crew-4,a.mods++}},{name:"Crew Space",description:"Space for four permanent crew members.",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 1e5}},{name:"Deflector Screens",description:"The vessel is protected by an energy field that deflects incoming ballistic attacks (it has no effect against lasers). Attackers must subtract –2 from their Shooting rolls. Mod cost is 2 for Small to Large vehicles, and 3 for Huge to Gargantuan vessels.",get_max:function(){return"u"},get_mod_cost:function(){return 2},get_cost:function(a){return 1e4*a.size}},{name:"Ejection System",description:"Should a vehicle suffer a Wrecked result, crew members may make Agility rolls at –4 (or no penalty if an individual was on Hold or hasn’t acted yet that round). Failure results in damage as usual and failure to eject that round. Those who succeed are launched into the air and descend safely via parachute. The system covers all passengers and crew.",get_max:function(){return"u"},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 5e3*a.size}},{name:"Electromagnetic Shielding",description:"Adds +6 to the vehicle’s effective Toughness from EMP missiles (see page 25).",get_max:function(){return"u"},get_mod_cost:function(){return 2},get_cost:function(a){return 5e3*a.size}},{name:"Exposed Crew",description:"Motorcycles and other “ridden” vehicles offer no protection for their passengers. Crew get no Armor bonus should it sustain a Crew critical hit.",get_max:function(){return 1},get_mod_cost:function(){return 0},get_cost:function(a){return a.base_cost/2*-1}},{name:"Four Wheel Drive",description:"Up to four direct-fire weapons of the same type may be linked and fired as one, increasing the damage by +2 per weapon and reducing the total number of Mods required. Total all Linked weapons in a set first, then halve their required Mods. (If Linking Fixed weapons, halve the total.)",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(a){return 1e3*a.size}},{name:"Handling",description:"The vehicle is precision crafted and very maneuverable. This adds +1 to Driving rolls per level.",get_max:function(){return 3},get_mod_cost:function(){return 1},get_cost:function(a){return 5e3*a.size}},{name:"Hover Vehicle",description:"The vehicle uses hover fans instead of wheels. It ignores difficult terrain modifiers and obstacles less than a yard tall. Round Mod cost up. The Ultra Tech version uses anti-grav. It doubles the cost but halves the Mod cost.",get_max:function(){return 1},get_mod_cost:function(a){return a.size},get_cost:function(a){return 5e3*a.size}},{name:"Linked",description:"Up to four direct-fire weapons of the same type may be linked and fired as one, increasing the damage by +2 per weapon and reducing the total number of Mods required. Total all Linked weapons in a set first, then halve their required Mods. (If Linking Fixed weapons, halve the total.)",get_max:function(){return"u"},get_mod_cost:function(){return 0},get_cost:function(){return 0}},{name:"Living Space",description:"Large or greater vehicles only. The vehicle has an extended superstructure with bunk beds, personal storage bins for up to four individuals, and one shared bathroom and kitchenette (regardless of how many times this is taken) for long- term travel. The superstructure decreases overall Toughness by 1 each time it’s taken. The limit is half the vehicle’s base Toughness.",get_max:function(a){return a.base_toughness/2},get_mod_cost:function(){return 3},get_cost:function(){return 5e3},get_mod_effect:function(a){a.toughness=a.toughness-1}},{name:"Luxury Features",description:"Typically reserved for civilian vehicles, luxury features include music systems, minibars, video screens, and other comforts. The larger the vehicle, the more extravagant the features.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(a){return 1e3*a.size}},{name:"Missile Launcher",description:"Allows up to four Light or two Heavy (or AT) missiles to be fired at once.",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 5e4}},{name:"Reinforced Chassis",description:"Increases Toughness of the chassis by +2.",get_max:function(){return 3},get_mod_cost:function(){return 1},get_cost:function(a){return 1e3*a.size},get_mod_effect:function(a){a.toughness=a.toughness+2}},{name:"Sensor Suite",description:"Light, chemical, motion, and other active sensors allow detection of targets up to one light year away with a Knowledge (Electronics) roll. Within 10K miles, the sensors add +2 to the roll. Illumination penalties are ignored. Targets don’t have to be in direct line of sight, but asteroid or powerful energy fields may cause inaccurate or false readings at the GM’s discretion.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(){return 5e4}},{name:"Shields",description:"The craft is protected by an ablative energy field that absorbs 10×Size points of damage before it’s depleted. Apply all damage to the shield first, then any left over to the vehicle (AP counts as usual). Active shields detonate missiles and torpedoes before they hit, reducing their damage total by half. A craft may regenerate its Size in shield points if it makes no attacks in a round.",get_max:function(){return 1},get_mod_cost:function(a){return a.size/2},get_cost:function(a){return 25e3*a.size}},{name:"Sloped Armor",description:"Non-energy, ballistic attacks against this vessel suffer a –2 penalty. It has no effect on energy attacks.",get_max:function(){return 1},get_mod_cost:function(){return 2},get_cost:function(a){return 3e3*a.size}},{name:"Speed",description:"Each purchase increases the vehicle’s Acc by 5 and Top Speed by 50. (This cannot be taken with Speed Reduction.)",get_max:function(){return"u"
},get_mod_cost:function(){return 1},get_cost:function(a){return 1e3*a.size},get_mod_effect:function(a){a.ts+=10,a.acc+=5}},{name:"Speed Reduction",description:"The vehicle trades power and speed for additional room. Each time this is taken, reduce Acc by 5 and Top Speed by 50 to gain half the vehicle’s Size in Mod slots.",get_max:function(){return 3},get_mod_cost:function(){return 0},get_cost:function(){return 0},get_mod_effect:function(a){a.ts-=2,a.acc-=1,a.mods+=a.base_mods/2}},{name:"Stealth System",description:"Radar-absorbing paint, heat baffles, scramblers, and other devices make the vehicle difficult to detect by vision or sensors. Those trying to spot, attack, (or lock on to) the vehicle subtract 4 from their rolls. The effect is triggered as a free action, but is negated any round in which the vehicle fires a weapon or emits some other non- cloakable signal such as radio signal or active sensor search.",get_max:function(){return 1},get_mod_cost:function(a){return a.size},get_cost:function(a){return 1e4*a.size}},{name:"Targeting System",description:"The vehicle’s internal sensors and computers are linked to all attached weapons. This compensates for movement, range, multi-actions, and the like, negating up to two points of Shooting penalties.",get_max:function(){return 1},get_mod_cost:function(){return 1},get_cost:function(a){return 1e4*a.size}},{name:"Torpedo Tube",description:"Each tube allows up to two Light or one Heavy torpedo to be fired at once (at one or two targets, as desired).",get_max:function(){return"u"},get_mod_cost:function(){return 1},get_cost:function(){return 5e5}},{name:"Tracked",description:"The vehicle has tracks instead of wheels and can climb over small obstacles. This reduces Acc by 2 and TS by 5, and ignores Driving penalties for difficult terrain. On the table-top, every inch of movement is treated as 1.5”.",get_max:function(){return 1},get_mod_cost:function(){return 0},get_cost:function(a){return 1e3*a.size},get_mod_effect:function(a){a.ts-=5,a.acc-=2,a.mods+=a.base_mods/2}},{name:"Watercraft",description:"The vehicle is a boat or ship. It’s base Acceleration and Top Speed are halved (round up). Speed Modifications increase Acc by 3 and TS by 5. For larger vessels such as naval vessels or cruise ships, use the Starship rules for Size, Toughness, and Crew, and add any enhancements that aren’t specifically designed for space such as FTL drives. If a Modification is listed under Vehicles, use that instead. Ships may have Torpedo Tubes.",get_max:function(){return 1},get_mod_cost:function(){return 0},get_cost:function(){return 0},get_mod_effect:function(a){a.ts=Math.ceil(a.ts/2),a.acc=Math.ceil(a.acc/2)}}),vehicle_sizes=Array({vehicle_label:"Ultralight",examples:"",size:1,acc:10,ts:35,climb:0,toughness:5,armor:0,mods:2,crew:1,cost:500,energy_capacity:0,provisions:0},{vehicle_label:"Light",examples:"Motorcycles",size:2,acc:10,ts:30,climb:0,toughness:9,armor:2,mods:5,crew:2,cost:1e3,energy_capacity:0,provisions:0},{vehicle_label:"Medium",examples:"Cars",size:3,acc:10,ts:25,climb:0,toughness:12,armor:3,mods:10,crew:4,cost:8e3,energy_capacity:0,provisions:0},{vehicle_label:"Large",examples:"SUVs, Pickups",size:16,acc:35,ts:400,climb:0,toughness:45,armor:10,mods:40,crew:300,cost:12e3,energy_capacity:0,provisions:0},{vehicle_label:"Heavy",examples:"APCs, Light tanks",size:4,acc:10,ts:20,climb:0,toughness:15,armor:4,mods:20,crew:8,cost:3e4,energy_capacity:0,provisions:0},{vehicle_label:"Super Heavy",examples:"Tanks",size:8,acc:5,ts:10,climb:0,toughness:25,armor:6,mods:25,crew:10,cost:6e4,energy_capacity:0,provisions:0},{vehicle_label:"Titan",examples:"Tanks",size:10,acc:5,ts:19,climb:0,toughness:30,armor:7,mods:30,crew:20,cost:1e5,energy_capacity:0,provisions:0},{vehicle_label:"Colossus",examples:"Tanks",size:12,acc:5,ts:10,climb:0,toughness:35,armor:8,mods:40,crew:40,cost:5e5,energy_capacity:0,provisions:0},{vehicle_label:"Goliath",examples:"Battle Platforms",size:14,acc:5,ts:10,climb:0,toughness:40,armor:9,mods:50,crew:80,cost:1e6,energy_capacity:0,provisions:0});$(".js-import-data").click(function(){""!=$(".js-import-code").val()&&(current_vehicle.import_json($(".js-import-code").val()),$(".js-set-vehicle-name").val(current_vehicle.item_name),$(".js-set-vehicle-description").val(current_vehicle.vehicle_description),$(".js-import-code").val(""),createAlert("Your vehicle has been imported.","success"))}),$(".js-save-item").click(function(){current_vehicle.size>0&&""!=current_vehicle.item_name&&"(nameless)"!=current_vehicle.item_name?(save_to_localstorage(current_vehicle.export_json()),propogateLoadList(),createAlert("Your vehicle has been saved.","success")):createAlert("Please name your vehicle and select a size before saving","danger")}),$(".js-load-data").click(function(){loadSelectedItem(),propogateLoadList()}),$(".js-new-item").click(function(){confirm("Are you sure you want to clear your current vehicle?")&&(current_starship=new sw_starship,refresh_starship_page(),$(".js-set-vehicle-name").val(""),$(".js-set-vehicle-description").val(""),propogateLoadList())});var current_vehicle;$(window).load(function(){current_vehicle=new sw_vehicle,refresh_vehicle_page(),propogateLoadList()});
//# sourceMappingURL=sourcemap.map